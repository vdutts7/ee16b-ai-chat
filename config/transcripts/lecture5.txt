Good question. All right. Good morning class. It's time to get started. So before we jump into today's lecture, I wanted to give you guys a little bit of feedback about the feedback that I've heard on official feedback. So I've heard some unofficial feedback. Indirect, I should say indirect feedback that some of you are struggling with the material. And you know, a lot of the concepts are very high level and seem a little bit disconnected from the notes and the rest of the class. So I was thinking about this, this morning and I thought one good way to solve this problem is the best way is just to wait until the end because everything will fall into place. But of course, that's not probably is not going to let you rest easy. I think what I'm gonna do is I'm going to look at every lecture that I've given and then I'll type up one of the key points from those lectures. What do you need to take away? What you need to understand and what is kind of extra material, background material that you're not responsible for. And then hopefully once I published that you'll be able to see, okay, All this stuff is covered in the notes or in the references that we've given. And so I know where to go to learn this material. And if there's something in that list that you didn't quite get out of the lecture, out of the notes. Come back, post it on Ed, you know, anonymous if you like, and then we'll address it to make sure that the connection is there. Okay? So there shouldn't be a disconnect between lecture and what you're doing in discussion in the notes. If it seems like it, it's sometimes because things are a little bit out of order or I'm giving you a big picture. And the discussion is about business, like let's get down to business does not actually solve problems. So hopefully that'll address that issue if it doesn't. You guys are more than welcome to give me bad ratings at the end of the class. Alright, so let's jump back into lecture. I want to remind you where we're at. So last lecture we introduced transistors. I guess we need to get that up on here. So we'll wait for the projector to come on. But while the projectors coming on, I said a lot about transistors, about electrons, about holes. Obviously you're not gonna get tested on that material. It was just background information to understand how transistors work. We're going to abstract away all that physics and we're going to get down to basically two kinds of transistors. And moss PMOS. And okay, here we go. Yeah, NMOS and PMOS. And we have a very simple model of these transistors. We know that if you have a gate voltage, gate to source voltage larger than the threshold voltage for an n mos, or less than the threshold voltage for the PMOS, then the transistor turns on. When it's on. We've been modeling it as a switch. And two important things about this switch is one, it has on-resistance, it's not a perfect switch. And two, to turn the transistor on, you have to actually charge up the gate. The gate is a capacitor. So once you've charged up the gate pass the threshold voltage, then it turns on. And just understanding those two simple things about the transistor allow you to analyze many problems. So last lecture we looked at logic gates like NAND gates, NOR gates. You can all build them out of these transistors. Again, this is not something that you're responsible for. But it's just to show you that, yes, these transistors are the building blocks of all those logic gates that are inside your computer or your cell phone and every other device doing digital electronics. This is where we stopped last lecture, so I'll back up and review it. We were looking at what happens. How do you build a memory cell? Well, there's two kinds of memory in a computer. There's more than two, but we generally classify it into static RAM and dynamic RAM. Dynamic RAM. Anybody remember, how do you build a dynamic RAM cell? I think we covered this in 16. So if you had to give a like from what you know so far, a name for dynamic RAM. What would you name it? What circuit component is a dynamic RAM element? A resistor, a capacitor, yeah. So dynamic RAM is capacitors. A capacitor. You basically charge up a capacitor and you try to hold that charge as long as you can. That represents the state. If you charge up, if you charge something up to 1 v, then that's a one. If you charge it up, if you don't charge it or you discharge it down to zero. That's storing a zero. Now the problem with dynamic RAM is that dynamic RAM is a capacitor that leaks. Let's just look at that problem actually. It's interesting to see how difficult it is to build memory elements. So here I have a capacitor and I'm going to charge it up to either one or I'm going to either charge or discharge it. So this can be one or zero. So it's a zero volt or a 1 v representing a logic one or zero. And once this gets, let's say we charge this up to 1 v. And we want to be disconnect the switch. Then we want to store to see how long this the circuit can remember. Now, if it were just a capacitor, how long would it remember the value that we charge it to? Charge it to zero. It has perfect memory, right? It will never forget a zero, right? But what if you charge it to one? How long would this circuit, remember that's charged up to a one? Wake up. Feel free to just blurt out the answer. Yeah, it will just remember forever because there's nothing to discharge a capacitor right? Once it's holding a volt, there's no charge leaking away. Once we open that switch, we're good. So in fact, you know, usually we charge this up with an access transistor. This is how we charge it up. So once you close that switch, once you bring the gate voltage below the threshold voltage of switches open circuit. But the problem is that these transistors actually we didn't talk about it. But they do leak. And there's a very, very small current, even when you turn off the transistor. You can kinda model this as a resistor to ground. So there is a resistor here. So now we know we have an RC circuit. And even when we turn the switch, basically when we open the circuit, we know that current is going to start flowing into this resistor and discharge, and it'll discharge this node. Well, the time constant is what? Rc, Alright, we know that if we were to plot the voltage, you don't need to do any math. We've done this so many times now that we know that this is going to happen. And the characteristic time here, Mr. Bono, value of one over e after tau seconds. So tau better be long time, otherwise we're in trouble. Okay? Otherwise there's not a really good memory cell. Well, let's just put in a typical value of c. Let's say that this is ten femto ferrets. Me remind you of your SI units. This is ten to the -15. Ouch. That's a small capacitor. So this R, this leakage resistance better be really, really big, right? What's a big resistor value to you? In the lab, right? What it was like a large resistor. You can bind the live yeah. Kilo ohms is pretty darn small, right? If we plug in kilo ohms here, then this will remember things for a picosecond, right? Yeah, ten mega ohm, Okay, If we plug in mega ohm, this will remember things 4 ns, right? So clearly we need really like even if we put an a giga ohm, we're still talking microseconds, right? So this leakage resistance has to be very, very large. But no matter how large you know that there are limits to how large we can make it. Let's say we make this. Let's say r is as good as 100 giga ohms, right? So that's ten to the two times ten to the nine or ten to the 11. And if you multiply this out, then tau is ten to the 11 times ten times ten to -15. And the capacitance wins right? Ten to the 12th. So this becomes ten to minus three. That means this circuit is only going to remember things for about a millisecond. Okay, why not increase the capacitance? Well, the density of the memory would go down, right? So capacitors take up area. You buy yourself a nice, Let's say you buy yourself a nice for gigabit little memory chip and to get 4 billion capacitors in there, they can't be too large, right? So, right, exactly. If you're willing, if you have a problem with this, you just make things bigger, right? The capacitor bigger. So a millisecond is a very short time. This is why dynamic RAM requires refresh, right? So about 1,000 times a second, probably even faster. I've got to recharge these caps. So I've got to go around asking every, let's say I have 1 billion capacitors one by one. I have to line them up and say, Okay, capacitor number one, what value are you holding right now? 0.7 because it's discharged right from one down to 0.7. Okay, I'm gonna recharge you back to 1 v capacitor to what voltage or you're at zero. Good, you're fine. Let's go to caspase-3, capacity of three, What are you at? 0.60? Recharge that one back to one, right? And you have to go through and do this for every memory element all the time. So dynamic memory is great. It's very dense because it only uses capacitors, but it's also terrible because it forgets, right? So static RAM is the solution. So this is dram. Static RAM uses logic gates to basically do the same thing. So last lecture we found that this circuit is bi-stable, meaning it has two stable states. If I charge the input with a 0 v, the first logic gate will invert it to a one, and then the second logic gate will invert it back to zero. And then we can take the output of the second and connect it back up to the first. Likewise, if we put in a one at the input, same thing will happen. I'll go 101. So it's consistent. The circuit is self-consistent. And the problem is it has two states. Well, that's it. Actually, if you're building a memory element, that's a good thing. The two states can represent your zeros and your one. So we can add some access transistors to force it to be in one state or the other. So this is going to be my access transistor. And here I'll put in what I want, either a zero or one. So if I want, if I want to charge this dynamic RAM L element up to a one, I turn on this transistor, charge up the gate. Remember there's a gate capacitance here, charged that up to a one that will discharge the output to zero, which will then charge the second output back to a one which is connected all the way back to the input. And so you can see that if this capacitor begins to discharge right, once I disconnect this access transistor, then this is what I have. But earlier we said, well, there's some resistance here, right? There are some tens of giga ohms resistance. So what happens as this note starts to discharged? Well, as if this node tries to discharge, this node has a PMOS transistor connected to Vdd. It can deliver charge back to restore the charge. So this circuit, because of the fact that it's, you can think of it as it reminds itself, or what value it's storing. If the input capacitor starts to deviate from that, it gets restored by the output. And so it's a circuit that there's a delay between going from here to here, from here, then from here to here. And that delay is a good thing because if the input starts forgetting. What value it had. The output stage is telling it you're actually storing a one. And that's a delayed output which doesn't know about the leakage yet. And so then that one gets restored back at the input. So without going into all the details, we can say that this circuit actually has positive feedback and it reinforces the states. It's interesting because people have tried building memory elements. I see your question. I'll come back to in a minute. People have tried building memory elements out of other things like molecules and they built inverters. But at the end of the day they don't work because they don't have positive, they don't have gain. And this gain is something you're going to learn about later on. But these inverters actually have gained. And when you hook them up in this configuration, it's a positive feedback. Remember, with Op-amps, you always use negative feedback to make things stable. This is actually a lot like an op-amp with positive feedback. And so it will rail out to either positive or negative supply. In this case, negative supply is zero and we'll hold that state. Okay, let me get to the question earlier. Yeah. Why don't the transistors leak, right? That was your question. They do. But the nice thing is that as this transistor, as this one over here starts to leak, this one restores its value. So the transistor here is acting like a switch, which is bringing in VDD to this point. And so any charge that leaks away, it gets restored by this active transistor, doesn't. So it's an active circuit. When we had a capacitor alone, there's nothing connected to it and just sitting there discharging. Now we have a capacitor discharging, but we also have a switch keeping it up at a high-value. Good question, how do you change the state? Well, here I have an access transistor. So when I enable, if I want to read or write this memory element, I turn this transistor on. Okay, let me make sure this shows up. Yeah, I turn this transistor on and I write a one or a zero to this node. And then the circuit is self-consistent and it'll just remember what I've written and then I can disconnect this switch and let it go. Okay. I think there's one more question. Yeah, go ahead. Good question. Power consumption. Well, this is an active circuit. So obviously, as it leaks current away, you have to restore it. So you're taking power away from the charge. So whatever leakage current you had, leakage current time supply voltage is always being dissipated. In the case of a dynamic element, you're actively charging and discharging all these capacitors. And that also requires energy. And so basically you're doing it faster than they leak away. Because of all the extra access that you have, you end up burning more power and dynamic memory than you would in static memory. But at the end of the day, you shouldn't be burning more power than the power you're losing, which is the leakage current times the supply voltage. Alright, lots of stuff about this circuit. We could spend a whole lecture on it. I don't want to give the impression that this is just an example to show you how cool transistors are and not an example of something you need to know in depth. It is also important to understand this from an RC time constant perspective that the behavior of the circuit is dominated by the RC time constants. Let me talk about ring oscillators. Another interesting application of inverters. So we took two inverters and we connected it and we got a stable circuit, right? Because it would self-consistent. Well, what if we're a little naughty and we do something like this? We take three inverters Now, in general, any odd number of inverters and connect it back up to the input. What's going to happen? Well, this isn't stable, right? Why is that? Well, let's imagine that I put a zero. Let's say I charge this up to zero. This will, this will go to one, this will discharge to zero. This will charge up to one. That one will get fed back. Oh, now it's a one. Now it's a zero. Now it's a one, now it's a zero. And then this gets fed, fed back to this date again. And so what we can see is this circuit never settles. It's always telling itself, it's reminding of itself, of its input, like the previous circuit. But every time it flips its mind, right, it changes its mind. So it says you're storing a zero. Then some delay later it says you're storing a one, okay, I'm a one, then a delay later. What is happening in the circuit is it's going to oscillate. It's basically going to constantly flip 1-0. In fact, we should draw this was RC time constants. It's gonna do something like this. Of course, these edge rates are determined by the size of the circuit. Let's, let's look at this in a little bit more detail. So let's say this transistor is on. So this is the RR of the PMOS. And this sees the gate capacitance or the second stage. Then the second stage, because this goes to a high voltage, right? This is a 1 v. Let's say this is charging up to 1 v. We know that the second transistor is going to be on. So this is going to be on over here. And this also charges up a gate capacitance. But this is discharging this node to ground, right? So this is going to 0 v. Which means that for the third stage, the p mos again turns on. And this is connected to the gate capacitance over here. So this is actually pulling, this node is charging up this capacitor. This capacitor is charging high. As this capacitor charges pass the threshold of the n mos, then this turns off. The n mos gets turned on. This capacitor discharges, right? Which means that eventually, after some delay, this resistor turns off, this PMOS turns on. It starts charging this capacitor. As this capacitor gets charged than this PMOS turns off, and this n mos turns on, at which point then we start discharging. And so we can see that this cycle of charging and discharging repeats. And the time it takes to go around the loop is related to the delay time of each inverter. The delay time of each inverter is How long does it take to go from ground to a threshold voltage for the n mos, right? And also how long does it take to go from VDD to the threshold voltage of p moth's, right, that delay time. Because once that happens, then everything switches. And so we can calculate a delay time for each cell here. And we can see that after three delays, we flip States. So after six delays, we come back to the same state. So the oscillation frequency here is determined by these RC time constants. So what does this circuit good for? An oscillator or a clock, right? Every clock and every microprocessor uses a ring oscillator, usually not three stages, but like 15 stages are usually some prime number of stages actually. So again, this is all RC circuits. You've analyzed this in homework and discussion sections. And I'm not going to repeat all that it takes. Basically, you've seen it. I'd like to give you one last application, which is probably a little bit different and perhaps a little bit harder to understand the first time you see it. Which is we want to look at the I-V curves of this transistor in a different region. So what we've been doing is we've been saying, Look, the I-V curve of a transistor looks like this. Just to be clear what this is. This is this voltage across the transistor. And this is the current into the transistor. So this is the I-V curve for a given gate value. So this is some gate value above threshold voltage. And this slope here is what, what would you call the slope? Well, on an IV curve, what does a resistor look like? A straight line, right? And so basically this slope is related to the conductance of the transistor. How conductive is the transistor? The transistor is on. It has some channel resistance. And the higher the gate voltage we give, the more conductive it is. So we would imagine that there are several curves here corresponding to different gate voltages. So we would say this would be flatline. If the gate voltage is less than threshold. This is gate one, gate two, gates three, and so on. So we've been modeling our transistor as if it just had a constant on resistance, which is valid if the gate is at VDD, Let's say, right? And we can then for a given input gate voltage, the resistance is constant, but in reality it's actually varying based on the gate value. That's too complex, so it's not model it that way. Let's just assume it's constant. That's fine. So this is, let's call this the switch region. The transistor is acting like a switch. I also mentioned last lecture that if you keep, if we keep increasing this voltage V across the transistor, eventually it stops. The current saturates. This is actually called the saturation region for good reason. Basically, the current can't go above a certain limit. The physics we're not going to explain for now. But the interesting thing is that in this region, as we talked about last time, it looks a lot like basically it looks almost like a flat line. And what do we call something that has a constant current no matter what voltage you put across it. Current source. So in this region, it looks like a current source. But the current is not constant, it's not independent. What does it depend on? Doesn't depend on the drain voltage. It depends on the gate voltage exactly. So we can say the proportionality constant is some G, some conductance we call a GM times the gate voltage. Alright, so why is that useful? Well, let's, let's see what we could do with this. Let's model our transistor now in saturation as a gym. So this is the equivalent circuit of what it looks like. And let's hook up a resistor here. And let's analyze this circuit. It's just pretty simple. So we imagine we put in an input signal here. We're interested in our output signal. So our output signal is going to be basically how much current flows through this resistor. While the current that flows through this resistor is gm Vg with a minus sign times r. In other words, it's minus g, m times V G, but VG is our input signal. So we can see that the voltage gain of this circuit is simply minus g m times R. Now if R is much bigger than one over g m, then this can be much bigger than one. This is how you build an amplifier. This is how you turn the transistor into an amplifier. In fact, I mentioned earlier I hinted at this that your inverters have gained, they need to have gained to have positive feedback. We won't go into the details, but just keep that in mind. Now you might be wondering about this circuit. This is like, this is not quite an op-amp, this is just an amplifier. There's no op-amp yet. It turns out that when you build an op-amp, you can very much model it as if basically that this GM that we just discussed is key. Let me turn it around so that we can get the polarity, right? This is, this is a model. This is almost the same model that you're used to seeing from 16, right? You say, well, no, no, in 16, he was this. Right? So this is our 16 a model. Well, what I'm telling you is let's just do a source transformation, convert this dependent source into a current, and take into account now 16 model, I guess I'll, I'll call this the 600s model, that there's an r here, okay? But the output is not perfect, it's not a perfect dependent source. There is some output resistance and unfortunately there is some capacitance. Okay? Now, this is actually what an op-amp looks like for the most part, when you do, you know, when you use an op-amp internally, the voltage does not instantaneously go to a times v plus minus v minus the actual input voltage charges and discharges within RC time constant. Related to this, basically this equivalent circuit. And the gain that you get is not infinity. It's actually this g m times r, which can be very large or can be 1 million. But looking at this circuit over here, you realize it's an RC circuit and you can analyze it as an RC circuit. So like for instance, what if you are interested in understanding what happens if I put a step on the input. Well, you can say that, well, the output is going to also increase with a time constant Tau equal to RC. You could write the differential equations and realize, Hey, this is the same as what I've been seeing all along, right? I mean, here we have, if we do a KCL at this node. We can say that the current in the capacitor plus the current in the resistor has to equal to the input current. So this is our input. It's constant, let's say. So we can just say that this is some, let's just model it as 1 v for t greater than or equal to 0.0 v for t less than zero. Then this is our first-order differential equation. Let's multiply by r. This becomes r. So this is our tau d v d t, d t plus v is equal to, let's call this u of t. You know how to solve this equation. You've already solved it, right? Don't solve this equation over and over again. Use your knowledge. Use a solution that you've already learned. And basically, there is a, there is actually a trick that some of you may know some of you haven't realized yet that allows you to write the solution by inspection. So let, let me teach you that trick. So I'm going to call this solution by inspection. Okay? So I have an RC circuit. Alright, let's actually use the one that we were just solving. Effectively. We have a current source u of t. Since the gate voltage is constant, we can just model this as an independent source. And I want to find, I wanted to find the solution to the circuit, right? You're given that the voltage v here is 0 v, and the beginning discharge, the capacitor is discharged. Now a really good trick that allows you to solve these problems by inspection is related to the steady-state behavior of a system. So basically what we need to do is predict steady-state solution. So what does that mean? Steady-state solution means what happens if we wait a very long time? Right? If we wait a very long time, like 100 time constants, what do we know about this circuit? If we have a constant input, we wait a really long time. What do we expect for the output? The output should settle to some value, right? If the output keeps changing, that's not steady-state. We just wait long enough so that nothing is changing, that the output is just steady. So if we get to steady-state, what can we say about our equation? Well, let's take this equation and analyze its steady-state behavior. Okay? If v is more or less constant, what can we say about dvdt? Zero? This goes away. So that means that in steady-state this is a really important part. Capacitors are open circuit. If d v d t is zero, then I, which is equal to CDVDT is zero. Which means the capacitor doesn't draw any current in steady-state. So we can just look at our schematic and say, Hey, the capacitor is open circuit, it's gone. So if I eliminate the capacitor in steady-state, What's the steady-state solution? The current U of t times r, right? It's so simple, you don't even need to analyze it. So knowing the steady-state solution and knowing the initial solution, I can solve this problem. So I know this is v of t. I know that v of t has to start from zero. This is the initial condition. I also know that in steady-state, v of t is i of t times r, u of t times r, right? That's just this current flowing into our right. If this current is one amp, the output voltage is one amp times are right, whatever that current is. So I know the solution here. I know the solution here, I know the form of the solution is a exponential with time constant tau. And so therefore I just by inspection, draw the solution. I didn't solve the differential equation. Honestly, I didn't even need to look at the differential equation, right? Because the steady-state solution was so simple. The steady-state solution was just I into R with the capacitor open-circuited. Let's say we have a slightly different problem. Again, using the same principle. Let's imagine that we want to solve this system where the gate, the input voltage, is going from 1 v to 0 v. So that means that the initial voltage on the capacitor is 1 v. This is our output. So now we need to analyze the steady-state voltage. Basically, we didn't need to know what V infinity is. What is V infinity? Well, in steady-state, the capacitor is just an open circuit. So we can eliminate it, can even erase it, so we're not confused. So what is the steady-state voltage over here? Well, no current can flow. So the voltage drop across here is 0 v. So the steady-state voltages this VM, right? So in this particular case, what is what's going to happen? I'm sorry. Oh yeah. So this is correct. So V N, we know, is going to 0 v. So the steady-state solution is 0 v. So now by basically by inspection, I can draw the solution. I know that v of t is 1, v over here. I know eventually it has to get to zero. And so it's just going to decay to zero with characteristic time tau. This is what I want you guys. This is the point I want you guys to get to when you're solving problems on the homework, on the exam. I don't want you to write down differential equations and derive them unless you've explicitly being given instructions to do so, if someone says, here's the input waveform, What's the output waveform? And it's an RC circuit. You should be able to just by inspection, draw the solution. Okay. Good question. So does the inspection technique only work when the inputs are, are constant? And that is true because if the inputs are varying, then that capacitor in steady state will always be taking in current, right? So if you have a sinusoidal input, your steady-state solution will not be zero. And the capacitor, it only works for constant inputs, okay? Yeah, tau is the time it takes to get to 67%. Okay? So in the lab you guys have been looking at some interesting applications of basically building analog-to-digital converters. In the homework are also analyzing this analog-digital conversion. As you know from lab, they are essential. They take signals that we're interested in. They digitize them. So this is an analog signal coming in. It's varying continuously. We can actually digitize this with an analog to digital converter. We can do some signal processing. And we may need to actually then take this digital signal and turn it back into an analog signal, let's say to drive a speaker. So this might be a microphone and some digital signal processing to get rid of some noise. And then we convert it back into an analog signal and we send it in. So this might be canceling headset. For instance. You guys looked at this R2R circuit and you're going to look at this in homework. And also in the lab, you're going to build a successive approximation ADC. So for this DAC, you guys are going to analyze this problem. I won't go into the details here because you guys are going to do it. But one interesting thing I want to point out is, how do you program? Oh, this guy is crashed. Know. How do you actually, maybe we're out of charge. How do you actually program these voltages at the bottom right? These voltages. So as you guys, if you haven't done this already, this circuit generates an output voltage, which is a binary weighted combination of these, VB zero, VB1 and so on. In other words, it basically takes the digital code and converts it into an analog voltage where each bit is weighed by 1/2 to the b, where b is the position of that bit. The question is, how do you actually implement this? Well, the resistors we know how to implement, that's easy. But how do we actually implement? Ones and zeros down here. How do we generate these voltages on the bottom? Well, based on what you've learned, which is your switches, right? Use transistors as switches. If it's a zero, will put, we want to switch to zero. If it's one, we're going to switch it to some reference voltage. Maybe it's 1 v, maybe it's 0.7 v, whatever that reference voltage is. In other words, we're going to use an inverter. So I'll put two inverters here as a buffer. So this is BI, right? And then this is connected to here. Well, let me connect it to the fifth bit. Let's say, let's say this is the ith bit. So this will either get connected to VDD or ground based on the value of BI, right? Alright. I'm gonna skip now and wrap up this lecture. Again. For those of you who came in late. For every lecture, I'm going to give you guys kind of a summary. What's important that you need to take away? Because sometimes I definitely introduce you guys to things that are not out of scope but background material to give you motivation. And I don't expect you guys to understand all that stuff. It's just for motivation. Okay? So we're going to switch over now and talk about a new circuit element. We're going to talk about inductors. Okay? So inductors, most of you from your high school physics or college physics, you've seen them before to take a piece of wire, wire and you wind it up into like some kind of shape, like a, like a, something for instance, most people are familiar with is a solenoid, right? You take a cylinder and you wrap a piece of wire around it, and that's an inductor. You can build inductors in many shapes and forms. This one over here you can see three inductors. You see the kind of the traditional solenoid on the right. That's the one that you're used to seeing. How come those wires don't get shorted out there sitting right next to each other. Right? I'm winding up this inductor. Doesn't that don't the loops a short each other out? Yeah. Yeah. Go ahead. Exactly. Yes. You buy special wire which is coded in a material that doesn't conduct right? And so then when the wires touch each other, they don't actually make contact. So you can build very, very tight loops that way. You can also build these kinda flat inductors in many places you don't have a 3D three-dimensional area. For instance, on-chip is a good example on a PCB, you might want to build an inductor, but you only have one metal layer. And so you can build a spiral structure that acts like an inductor. And of course, the output lead needs to touch the input leads, but you just kinda wind it under or over, as you can see in this picture over here. So this is actually a spiral inductor. And we build these. You can build these on-chip. You can also build them for low-profile applications. The third example over here is also a solenoid, but it's a little different. Anybody see what the difference is? Something in the middle, right? Yeah. Yeah, there's a magnetic core. So you see in the middle, there's that black cylinder inside. That's like a ferrite material that basically has its own magnetic field that it generates that can line up with the magnetic field of the loop and boost the inductance. So we'll talk about that a little bit later. But this makes, you can make your inductor effectively much bigger by using these magnetic cores. Of course, this is a symbol for an inductor. It's meant to convey the usual form which is in this solenoidal fashion. So to understand inductors, we could probably spend several lectures talking about the physics behind inductors were fortunately, don't have the time to do that and not everyone has the same background. So I'm just gonna give you some intuitive ideas of how inductors work. So inductors work based on Faraday's law of electromagnetic induction. Faraday discovered that when you have magnetic fields and they change, they create electrical, basically they create voltages. And the classic example is, if I have a loop and I run some current through it. Again, some of you have the physics background and you know this, this creates magnetic fields. Magnetic fields are created by moving charges. And if this current were to change, if I were to make an I of t, then this magnetic field would be changing. We would call this b of t. And the magnetic flux, I mean, you'd use a different color here. The magnetic flux is the product of the magnetic field. Crossing this surface, the loop surface, that would induce a voltage in the loop. So if I go around this loop, this is called the magnetic flux fee. And the voltage induced around this loop would be equal to d phi d t, the minus sign. In other words, that voltage that gets induced tries to oppose the changes that you make. So if you're trying to increase the current, the voltage is going to induce and try to reduce the voltage to oppose you from increasing the current. You can think of that as Lenz's law. Again, don't worry so much about the physics. I know a lot of you don't have the background. We're going to abstract away the inductor. And I'll give you some physical intuition for how it works. And say that an inductor stores, just like a capacitor stores charge. We're going to say that inductor stores magnetic flux. So this is charge, this is flux, magnetic flux. And just as DQ DT produces a current, d phi d t produces a voltage. And we know for our capacitor's Q is equal to Cv. For inductors, it can be shown or defined if you like that the flux is proportional to the current in the loop. The proportionality constant we call inductance. And so putting this all together, we say that the IV relationship for an inductor is that the voltage on an inductor, the voltage induced across its terminals is equal to L times DIDT. Okay? Now I'd like to give you guys an analogy. It's actually kind of related to homework too. So I thought I'd start out explaining inductance with this analogy. So let's imagine that you have a system that looks like this. We have a capacitor. We're going to charge it at 1 v. And then at time t is equal to zero. This is almost exactly like your homework, right? We're going to close this switch. I'm gonna give you a mechanical analogy for this. I'm going to assume that I have two tanks here, two water tanks. And they're connected by a pipe. And we're going to fill this one up with water. There's a valve here. We're going to open this valve at t is equal to zero. And this pipe, it basically is like a resistor because it restricts the flow of the liquid. The amount of liquid that can flow is proportional to the pressure difference across this pipe. The pressure difference is how much water pressure you have coming in from the left capacitor, left tank, and how much pressure there is in the right tank. At time t is equal to zero. There's a whole MGH of pressure stored right? On the first tank. The second tank is empty. It doesn't resist the flow. And so water begins to flow, right? And it starts filling up this tank. Let's use our steady-state ideas of steady-state, right? In this circuit, there is no input. If we wait long enough. What we said about steady-state should apply. What are both capacitors look like in steady-state open circuits, right? So in steady-state, there can be no current flow through R. What does that tell you about the voltage is stored on these capacitors in steady-state. They have to be the same, right? Because if there's a voltage difference, current would flow through this resistor. So the volt, the current through this is VC1, VC2 over r. This is Vc, VC2. Likewise, this is VC1. So again, using our water analogy, we can say that the current, the water level will keep rising until it equalizes. Right? Once the water level equalizes, then it just stays there, right? Nothing interesting happens. Similar, similar to this circuit here we might expect that, hey, this capacitor will discharge, charge up this capacitor until their voltages are the same and then it just stays there. Alright. That's a big hint for homework, by the way, can check your solutions. But is that really what happens? Well, let's, let me change things a little bit. Let me now introduce an inductor into the picture. Here's our capacitors again. And my inductor is going to be like a water wheel. So imagine there's space for this guy to spin. And let's say the water stays inside again, I'm not going to. So the idea is now that as the water level drops and current starts to flow, this will start to spin around, right? This is, this is the inductor. So I have a capacitor, capacitor. So now my circuit is a little bit different. I have two capacitors with an inductor and between. Let's just use our knowledge of mechanics to guess what's going to happen. Similar to before. The water level is going to drop. Forget the equations, right? Forget the actual circuit. Let's just look at the water wheel. What's going to happen to the wheel, right? Initially the wheel is at rest, it's not spinning. As the water drops, what happens to the wheel starts to spin, right? Let's imagine now that we've gotten to the point where the water levels are the same. Does it stop? The system stopped like before? What happens? It keeps going because that wheel is still spinning, right? That wheel has angular momentum. And it's going to keep spinning, and it's going to keep pushing the water up and up and up. So it's going to push the water level higher and higher. And now there's less and less work being done by the first capacitor because it's basically losing its potential energy. And now we're actually before in the beginning where we're using the energy to spin the waterwheel. Now, we're no longer as the water level drops. The waterwheel now is actually starting to lose its energy because it's having to push water up. It's not getting help from the other capacitor, but it will keep spinning until it runs out of energy. And it'll keep pushing the water level higher and higher. So what we might guess is that the water levels are gonna do this, that's going to start draining. It's gonna get to here. It's not going to stop. The water wheels is going to keep pushing it up higher. And then it's gonna do this again, right? So the wheel is going to keep spinning until the waters all the way up here. Then as this pressure is higher than the energy stored in the water wheel, then it's going to reverse the direction of the water. The wheel, it's now going to spin in the opposite direction. It's going to push the water level high again. And so it's going to just oscillate back and forth, right? The water level is just going to go up and down, up and down. Because we're exchanging energy between the potential energy stored in these tanks and the kinetic energy stored inside of this water wheel. So the water wheel, some mechanical analogies that are actually very relevant. The water wheel has momentum. You can think of inductance in a circuit like momentum, it has the tendency to keep moving in the direction its moving before, right? The other interesting thing about inductors as they resist change. If you tried to reverse right when we got into the situation where the voltage, the water levels were the same, then the water level went up higher here. You might think, Oh, now the pressure is higher on this side. It should start going in this direction. It might, but it doesn't, because the water wheel has a lot of momentum. The more, the bigger the mass we have on there, the more energy it's stores. And then more it's going to resist the current flowing in the other direction. Same with inductors. Inductors. The bigger the inductor is, the more they resist change in current. Because the pressure in the water quickly and that's okay. It's a good guess. But again, this is a mechanical analogy. I can tell you the way I've drawn it. I can tell you what the answer is. I haven't introduced any, any loss mechanisms. If I don't introduce any loss than energy can't go away. Energy has to stay in the tank, which means it has to keep oscillating back-and-forth, back-and-forth. The minute you actually say, well, this pipe has some resistance, then you're losing energy. And so it'll oscillate until there's no more energy left and it will reach steady-state again. Okay, now let me just motivate inductors. Why are they so important? Well, inductors are all over the place and they really let us do interesting things. By the end of this course, you'll understand how a basic AM radio works and basic aid AM radio. I kinda drew its schematic and then I drew its physical representation just to show you how simple it is at the heart of every radio. And by radio, I don't just mean the AM radio in your car that when you're, when you're in the country, you listen to someone proselytizing on HAM radio that I don't mean just that. I mean every radio and cooling your cell phone, right? Your wireless LAN chip in your laptop. At some point, they are doing something very similar to the circuit. There's an LC tank somewhere. And LC tank is actually kind of like what we just drew here. This is an LC tank. This is an electrical LC tank. There is a capacitor and an inductor. Later in this course, we will understand what the circuit is doing. I can tell you now that this is actually a very frequency selective circuits, meaning that it likes to listen in on one station but not other stations. And we'll explain that later. And as demodulating the signal, we won't go into it. But this is a very simple circuit. Everybody can go home and build this. And you can actually, if you tune things right, you can tune into an AM radio station and listen to tune to 2.4 ghz. You can actually start demodulating BPSK like sequences from wireless LAN for instance. A lot of the headers of packets and things like that are sent with just AM modulation. If you look inside of a chip, this was actually the radio chip, the Qualcomm produce that went into the iPhone five or something, I forget. But what do you think all of those circles are? Obviously they're inductors, right? The resolution is not quite enough here to see it, but these are actually like loop structures and spirals. And real estate on chip is really expensive. The area of one of those inductors. In that area you can put an arm core or risks five core. So clearly these inductors are really important. They wouldn't spend all this real estate for an inductor if it wasn't doing something important. So inductors are all over the place and communication systems. Also. If you ever wondered, how do you convert from one DC voltage to another voltage, right? Like I have I have a battery at home when the power goes out. It's like a car battery is 12 v, and I have an inverter that generates 120 v so that I can power up my, my house when electricity is up. How does that work? Well, at the heart of inverters, our circuits involving inductors. Because inductors resist change, you can take advantage of that and generate much higher voltages than you have on your input. So in this circuit, we get not going to explain how it works. You'll, you'll learn about it later. But we basically charge up this inductor by charge up, I mean, we, we basically store magnetic flux in it by running current through it. Just like a capacitor, the voltage goes up linearly in time, will show with the differential equations in a minute that here the current would increase linearly in time storing more and more magnetic flux. And then we open up that switch. The inductor says, nope, we gotta keep going, right? It's like a big truck, right? A Big Mac truck on the freeway. You cut the engine off. It's not going to stop, It's going to keep moving, right? So this inductor wants to keep things moving. And in doing so, it's going to generate very large voltages. If we filter out those voltages, we can create. Voltage is higher than our supplies. So I can take my 12 volt battery and make 100 v, right, or 200 v or whatever I want. So that's the motivation. Now let's look a little bit more detail. So we said that the magnetic flux was proportional to the current. Just like the charge in a capacitor is proportional to the voltage. The voltage is proportional to the rate of change of flux. Just like the current, is proportional to the rate of change of current in a capacitor. And so therefore, the voltage, the I-V relationship that we get is kind of a duality between capacitors and inductors. They're, they're very similar, right? If you look at these equations, right, one is just the VI curve for an inductor. We just take the derivative here. Dv, excuse me. We just substitute d by d t for fee is L times I. L is a constant. So this gives us DIDT. This is where this equation comes from. And you can recognize that this equation is more or less the dual of this equation. By dual, I mean duality. V goes to i, i goes to V. Likewise over here, we can integrate, we can turn this equation around and integrate it to get the voltage. For a capacitor, we found that the voltage was equal to the initial voltage plus the integral of the current going into the capacitor divided by c. Well, by duality over here we see that the current in the inductor is the initial current going through the inductor. It remembers the current that you had going through it. And then it integrates the voltage you put onto it over time. Divided by l tells you what the instantaneous current is going to be at some later time. Okay? So if you use your knowledge of capacitors and map them correctly, two inductors, you can solve all the capacitor inductor problems. Like the capacitor problems and solutions are more or less going to be the same. Let's look at the energy stored in an inductor. You might remember that for a capacitor, we found that the energy was one-half CV squared. You use this in your homework and problems that you've seen before. If we take the IV relationship for an inductor, we know that the voltage again v on the inductor is LDIDT. So if we just substitute LDIDT for the voltage, we get that the power, this is the current I of t. This is the voltage v of t, the power that's dissipated by this inductor. And I just say dissipated. Because I stopped when I say dissipated because remember inductors or capacitors, they're lossless, they don't dissipate energy. They store energy. So if p of t turns out to be positive, it doesn't mean it's dissipating energy like a light bulb. It means it's storing energy. And when P of t goes negative, and it easily can because the derivative of a current can be positive or negative, right? So when the derivative goes negative, it's giving you energy back, right? So it stores energy, it gives you energy back. So an inductor is just like that capacitor that we talked about so much. Just like a water wheel. Where initially to turn the water wheel it takes energy, right? But once it's spinning, the energy doesn't go away if there's no friction and it keeps spinning. And in fact, it'll give you the energy back if you want. So if we now take this expression P of t, which is l i f t, The I of t, d t. If we want to get energy. Let's integrate p of t. So this gives us l I of t, d I and L is a constant. So we just get the integral of idea. In other words, it's going to be I squared over two from some eye to eye, whatever current value and it is. And this tells me that the energy in an inductor is just like a capacitor LI squared, if we assume IS zero-zero. In other words, if I have a capacitor that initially has no current through it, and then I apply a current no matter in what manner. It doesn't matter what the trajectory of the current looks like. It could be a current ramp, it could be a current pulse. But whatever it is, the final value of the current through the inductor tells you that the energy stored is one-half LI squared, just like a capacitor, one-half CV squared. Okay, Questions. So the important point to remember is that when you see an inductor, it is storing energy. How much energy? One-half LI squared, where I is the current going through it. If there's no current going through it, there's no energy being stored. If you see a capacitor, it's storing energy one-half CV squared. If it's discharged, no energy, it's charged to 1 v, one-half c times 1 v squared, right? So they're very much analogous to each other. So we can also use, can make some simple observations. If I have two inductors in series, they behave like an equivalent inductor. And the equations are for each individual inductor, we know that V L1. Let's apply a voltage here and observe the current that's flowing. The L1. As L1 DIDT. Vl2 is L2 DIDT. So the voltage V applied across the circuit is the sum of Vi L1 plus VL2. If I just put in the sum here, that gives me LI L1 DIDT plus L2 DIDT. If I just group these two terms together, it looks like an equivalent inductance of L1 plus L2. So whenever you see inductors in series, put them together. Treat them as a single inductor. Likewise, if inductors are in parallel, you can show that they look like parallel resistors, right? I won't go through the math, but it's pretty easy to derive this relationship. Okay, I mentioned already that inductors come in many shapes and forms and I wanted to give a ticket a little bit more time to talk about that. Some interesting subtlety that will come into play. This is a typical integrated circuit inductor, like a spiral inductor. The reason why we don't build a solenoid inductor is an integrated circuit processes. We have metal layers and we can kinda route things in one-dimension, but we can't really route things in the z dimension very well. We can use v has to go from one layer to another. But we can't like build a structure that looks like this. So this is a very common structure. You can think of a solenoid that's been compressed into a spiral. So if we look at the magnetic field of a solenoid versus something like this, they're gonna look different. The important point I want to make though, is that the solenoid here is an intentional inductor. The circuit on the right, It's just a loop of wire. Anytime you build a circuit, there's gonna be a loop involved, right? If a voltage source, you have some wires and every circuit actually has inductance. Just like every circuit. We know, we talked about capacitances and how they're all over the place. You like it or not. Anytime two wires cross, capacitive coupled, anytime you write route wires around, you actually pickup inductance. It's an intrinsic property of the universe. Electromagnetic fields are linked together. They're really the same thing. And inductance and capacitance or the circuit kind of abstraction that we have two electromagnetic fields. Okay. This is a little bit of a review. I'm not gonna go through this because we've seen this before. Yeah, I'm going to skip this. We've seen this already. I want to talk about RL circuits. So again, this is a lot like an RC circuit, but it's not. So first time we're seeing it, let's analyze it. We have a situation here where we have a voltage source connected to our circuit through a switch. We have an inductor. We need to know what the initial current through the inductor is. But because the switch is open, we know that the initial current through the inductor has to be zero, right? Current can't flow in this circuit. So we actually don't even need to be told. We know that i of zero is zero amps in this circuit. If we write a KVL expression here, we can say that the source voltage, which is just a constant, 100 v at t, is equal to zero. Greater than zero is equal to voltage drop across the resistor. So this is the current here flowing. And it's the voltage drop across the inductor, which we're calling v of t. Okay? So the question now is, which variable do we replace? Well, we know that I of t is the same, the same current that flows in the resistor because they're in series, is the same current that goes into the inductor. The inductor current I is related to the voltage by L dvdt. So if I substitute that over here, I get V S is equal to r times l d v d t plus v. So sorry, I knew something was wrong because the units V is LDIDT. And so if I substitute that over here, I have I times R plus L DIDT. And this is VS over here. If I divide by r, I have an I here. V over R is the units workout. This is L over R, d phi d t. And let me just clearly this, whatever this is, must have units of time. So I'll call this tau. And this is DIDT. So this is the governing differential equation. It looks a lot like our capacitor circuit, right? The only thing that changes is that instead of voltage we have current. We know that the current is initially zero. And we know that the steady-state current, and we can find by using this trick that we just introduced, which is two. We know for capacitors IS C dvdt is equal to zero and steady-state kinda, you think of steady-state as DIDT going to zero. This is DC steady-state, just to be clear. So it's an open circuit. Let's apply the same two inductors. For inductors, we know that V is LDIDT. And DIDT again is equal to zero in steady-state. So if v is equal to zero, It's a short-circuit. So any problem that involves DC steady state, you can replace inductors with shorts and capacitors opens. Looking back at our circuit over here, in steady-state, I have 100 v switches closed 50 ω, and the inductor is a short, so this is the inductor I shorted out. So what is AI infinity to 100 v divided by 50 ω or two amps. Okay? Everybody see that? So now I know what I is at time zero. I know what I is at time infinity. And I know what form of solution I have because it's the same differential equation, don't solve the same equation over and over again. Same equations, same solution. So I can just by inspection, sketch what the solution is going to be. Except now I'm solving for current. Current was zero here. This is i infinity, which is two amps. And this is what it's going to do with the time constant. Going back over here. The time constant is R over L. Okay? So RL circuits, there's nothing new, right? It's the same. The only thing you need to do is observe the difference between capacitors and inductors. They both produce first-order differential equations. Rc circuits, RL circuits, same exact differential equations. The only thing that's different is the steady-state behavior of capacitors is different from the steady-state behavior of inductors. So tau, remember I need, I put this into its L over R. Did I say R over L? Yeah. So that's a typo. Thank you. Okay. Other questions, mistakes. So the units of inductance, Henry's law, Henry's Farads named after Michael Faraday. Henry's named after someone with the last name of Henry. Okay. Now things are gonna get a little bit interesting. Remember with capacitors, we started talking about having two conductors and there's capacitance between them. And we said, well, if there's three conductors, then there's capacitance between all three conductors, right? All right, If we have three bodies, right, Let's say we have three plates. Then there's a capacitance between here and here. There's also a capacitance between here and here. Let's say I make this one a little bit bigger so I can catch some of the fringe fields coming off. What happens when you have more than one loop? You have a loop over here, and you have another loop over here. Well, because the magnetic fields of this loop will actually spread out into space, they will intersect the second loop. And if these basically in the secondary loop, we can define a magnetic flux fee to. This magnetic flux is proportional to the current I1. And we'll call this maybe m to one to tell us that the flux and loop two is proportional to the current in loop one. This is I1, but also the flux. Then the second loop is proportional to the current in the second loop, right? Let's see if I can draw a better picture here. Here's a picture. What I'm trying to draw. This is the first loop. We have current I1 flowing through it. It generates a magnetic field and it cuts into the second loop. Now this magnetic flux, if it changes, will induce a voltage in the secondary loop. So we can say that the voltage in the secondary loop is proportional to M21 d i1 d t. This is called mutual inductance. And the way we draw this, the symbol that we use is we put a little dot next to these inductors. And we draw a little arrow to indicate that these loops are mutually coupled. There are near each other. And so the magnetic flux of one leaks into the other loop and generates a voltage on the other. So in general, if I want to know the voltage in the first loop, not only is it proportional to the inductance of the first loop, but because the second loop is present, I need to look at how the flux in the second loop changes. Likewise, if I look at the voltage or the second loop, there's a mutual coupling between the first and the second. This is the first term. And then I have the self-inductance of the secondary loop. And it turns out that m is reciprocal. It doesn't matter if you look at the first loop generating flux in the second or the second-generation flux and the first, interestingly, it's the same, so we just call it M rather than M12, M21. And this is actually really important because this is how we build things like transformers. Transformers. Again, they're all over the place, but probably the biggest transformers you see are the eye sores you see on your typically pulls right? Utility poles have transformers and probably some of you know what those transformers are doing, right? What are those transformers doing? Yeah. Yeah. So what goes into your house is 240 v AC. What's on the line can be 10,000 v or 100,000 v. Clearly you don't want 100,000 v going into your house, right? And so these transformers step the voltage down and they do it through mutual inductance. Next lecture, we'll look at how they work. 