Hello. All right, Good morning class. Today is your last lecture on circuits. And then next week, we'll be taking over. Professor Ramachandran will take over and discuss the second part of the course. So we have some unfinished business today. I wanted to go through this maximum power transfer theorem and do some examples. So we didn't finish up last time. So let's dive in. So remember the problem, the problem that we wanted to solve was, What's the optimal impedance to use as a load given a generator, right? So the Thevenin equivalent circuit of a generator for AC circuits is a voltage source and some source impedance. And we want to know what's the best load impedance to connect in order to extract the maximum amount of power. Not to solve this problem, we'll actually solve it in two parts. We'll solve it in the resistive domain first, because this solution will actually help us get the general solution. It'll help us avoid solving two equations, two unknowns. We'll just reduce it down to one equation. As I mentioned last lecture, this is a very important problem. Simple examples, the solar panel, right? If you have a solar panel, you want to squeeze as much energy out as possible. You know, you're, you're on a camping trip, your cell phones out a charge. What should you do? How should you connect your cell phone in order to know what, how fast should you charge your cell phone in order to maximize the power transfer from the solar panel to your cell phone. So if you had a little device where you can tune the charging rate of your phone, you could actually get it to match so that you are extracting the maximum power. In other words, what's the best? What should the charger, which is charging your phone look like from a resistance perspective, right? So what's the optimum value of the resistance? So let, let's solve this problem. Actually we set it up last time. Let me just make one small change. I'm going to solve it again, but I'm going to just solve it in the AC domain. It's just almost more or less the same thing. So let's look at the power flowing into load. So since it's AC, there's a factor of a half I squared R. And the circuit is simply VS. Rl. So this would be RL. And I is the current in the circuit. The current in a circuit is simply VS divided by RS plus RL squared RL. And we can write this as one-half v squared, which is just a constant, not really dependent on any of values of RS and RL squared. Let's just call this a constant. So if we take the derivative with respect to RL and set it equal zero, we get constant. Let's use chain rule. Rs. So this is the first term. And then the second term will be RL minus two RS plus RL cubed. And also the same constant. We can see that this constant doesn't really change the answer. So the optimum load doesn't depend on what the source voltage is. It only depends on the source voltage, source impedance, or source resistance in this case. So let's solve this simple equation. Oops, that's not what I want. You can see here that this is a cubed term. So this whole thing cancels out with this cube. And so we're left with one is equal to two RL over RS plus RL. In other words, RS plus RL is to RL. In other words, R S is equal to RL. So this is the matched load resistance. So this is what we discussed last time. In order to extract the maximum power you want to match your load. A question. Oh yeah, why are we taking the river trying to find the maximum? So you should actually take the second step and verify that this is indeed a maximum. You can take a second derivative. But if, if, if you think about the plot, I don't really need to take a second derivative because I know the power to the load as a function of RL. It's zero here, and it tends to zero. For an open circuit, as we discussed last time, the power of the load is always positive. So I know it's basically always up here. And if I look at the functional form, I can see it doesn't have multiple peaks, it's just one peak. And that peak occurs when R S equals R L. Now that's just my gut intuition. If I'd seen this problem for the first time, I'd actually go and take a second derivative and verify that this is a maximum and there's only one maximum. But clearly there's only one solution here, which tells you that this is the peak power to the load. So this is immensely useful, right? It's really nice to know that there is a resistance that maximizes the power transfer. And it's something that, even though it's so classic and it's been around for a century. People have known this since the beginning of circuits. It's still debated and questioned because you'll get into situations if you continue studying circuits where you're just like positive, that this shouldn't be the right answer. But it turns out it is the right answer. So it's a very interesting result. Somewhat non-intuitive, right? I mean, if somebody just told you, just guess the number, what's the right impedance value? You might not guess that it should be a match, right? You might think, oh, let me make it a little bit smaller so I can get more current, right? But if you get more current, then you get less voltage, right? Or we might say, let me make it bigger. Most people think let me make it bigger than R, S so I can get a bigger voltage on the voltage divider, right? Because this is a voltage divider. You're basically deciding how much of this voltage do I want to impart on this load? And so your intuition might be, well, let me make RL bigger than R S, I can get more voltage, but that results in less current. So the voltage and current exactly their product maximizes. When your voltage divider is one half, half the voltage gets transferred to your load. So like if you have a solar panel and you measure its open-circuit voltage, and it's 12 v. When you're charging your phone, it should be at 6 v. So if you had a little knob that could adjust how much current goes into your cell phone. You would turn that knob until you actually observe 6 v. Then you know, you're actually maximizing the power transfer. Again, not that intuitive, but it's true. Alright, any questions about this? Let's now generalize this to an impedance. Now it's actually going to be really easy because we actually solve the half the problem already. So now let's go to four ac impedance. The question is, here's our Thevenin equivalent. This is zs is a complex number. This is ZL. I'll draw a little boxes here to remind you that these are impedances. Z, S is some RS plus j excess. Zl is RL plus j XL. Now whatever. So what we're trying to find is what is the optimum? Whatever the answer happens to be, we know what the real part of Z L must be, right? Because the general solution, when we solve this problem in general, it has to satisfy the specific solution where the excess is equal to zero, right? So if excess is equal to zero, we know the solution should be RL is equal to r s, and Excel should also be zero. So we already know that RL optimum is equal to RS. We already solved this problem. So really we're just trying to find out what's the imaginary part of the load, what should that equal to? So this is a good chance to review AC power. Let's find the power to the load. This is the L, this is V S. The current flowing in this circuit I is simply VS over z S plus ZL. The voltage across the load is Z L times I. And the power to the load is one-half the real part of V L i conjugate. Or if you prefer, one-half, the real part of i, VL conjugate, get the same answer. I L of course is the same as I. There's only one current in the circuit, so we don't need to label i l. Let's plug in. What is I? I is simply VS divided by z S plus ZL. And what's VL? Well, it's IS same thing. Times the load. And I put conjugates there because it's VI conjugate. So now the product of the first two terms is purely real, right? It's just a magnitude squared. So let me pull that out. So this gives us V S squared z plus z L squared. And then the second term is simply real part of z conjugate, which is the same as the real part of ZL. Alright? Any questions about this calculation? It's a good review of AC power. Okay? So now I want to maximize this expression. I already know that RL should be equal to RS. So all I'm concerned with is how to maximize this with respect to Excel. So I could go through and do a derivative, but I'm lazy. And I'm going to see if I can guess the answer without doing a derivative. So this is basically RS plus RL squared plus XS plus x l squared times RL. Now, as I mentioned, we already know what RL has to be, so we're just looking at excess, an XL term. So we're asking what value of XL maximizes the power to the load? Well, it's kind of obvious, right? I have a term squared in the denominator. I want the term in the denominator to be a smallest possible to make the whole thing big. So what do I do? What's the, what value? Can I drive that to? Drive it to zero exactly. So the optimum load reactants is minus XS. And so this whole thing results in what we called the conjugate match. The conjugate match load ZL is equal to z conjugate. In other words, RL is equal to R S and X l is equal to minus XS. And this maximizes the power transfer from the source to the load. Okay? All right, so let's actually any questions about this pretty clear. Let's go through an example, a practical example that actually illustrates this very nicely. What we're going to look at is power matching in an RFID link. So let me just remind you of what an RFID link is. You have a reader and it's going to have a coil. Then you have a tag. It has another coil and some load. And this is hooked up to some generator. And these are mutually coupled. There are magnetically coupled. So the idea is that if I want to send information so that the thing down here is your tag. Call this an RFID tag. And this we call the reader, already labeled it. And so there's many situations where you have this, like every time you go through a door that's locked and you have a little RFID card key, that card key inside of it. If you were to rip apart your card key, you'd basically fine, There's a coil and a chip. And that chip, there's no battery, right? Very inconvenient to have to change batteries every time on your card key. So there is no battery in your car key, or you have a credit card. You do a credit card transaction. You put your credit card near the reader. Somehow. It reads your credit card. It figures out what your credit card is. So the chip inside here, again, first of all, needs to power up. So it's extracting power from the reader. Once it powers up, it starts communicating with the reader. Two-way communication. The reader will modulate the signal, right? I'll send it with some ones and zeros. And the tag will say, okay, you sent me the right signal. That means I should respond. And then it'll respond with its information. We'd like to understand power transfer because this is a very important problem. If I have a reader and I have a tag, I want to be able to hold the tag as far away as possible and still make it work. Well, you could argue for security reasons, you don't want it to work too far away, right? But you get the idea. You don't want to have to like, you know, like you wanna be able to just kinda put your backpack next to the wall and the door should open. You shouldn't have to pull out your wallet. Then like stick it right on there. So how do we maximize the distance of this link? Well, you might recognize that this is actually an application of the maximum power transfer theorem. Because as far as the load is concerned, everything, including the reader, the link, the tag on the reader side. You can lump that as a Thevenin equivalent. So we're going to do, is first of all, we need to model this as a circuit. And our model is going to be simply VS ZL. So I'm basically going to, I don't know what the optimum load is if it's resistive or not. I'll just call it Z L. Now I'm going to model all the important things in this circuit. So first of all, you might remember mutually coupled inductors, right? One inductor, L1 is the reader coil. L2 is the tag. Coil. Call them coils inductors because you're going to be coiled wire around to get, a lot of times they're flat. So there's spiral inductors. M is the mutual coupling, which we studied before in way back. So we'll say it's a good review. Vs is the reader that sending signals in and out, including power. And ZL is kind of what's inside the chip. So inside the chip, there's gonna be a microprocessor that's going to power up. It's going to read the signals in. It's going to draw power away. Our goal is to figure out how to design the interface so that we extract the maximum power from the reader. Okay, now you might be wondering why did I put this resistor R2 here? The resistor R2 models the fact that the tag has resistance. When you wind up the wire. It's impossible because the tag, you want it to be small. So you can't make the wires to fat, right? This is something that has to fit into your card key. So the resistance in the wire matters. I'll show you later that if this resistance were zero, we could send immense amount of powers over this link. So it's really this resistance that actually end, the end limits how much power we can transfer. Okay. Any questions about this picture? What L1, L2, RR, Yes. Zl is the basically is everything that's gonna go into here. So let me just label this ZL instead of RL for consistency. So ZL is up to us where we want to find out what does he l should be present to get the maximum power transferred. Alright, so how do we, how is this an application of maximum power transfer theorem? Well, let's take this circuit. And our goal is to find the Thevenin equivalent. Let me disconnect my load. I want to find V Thevenin and z S. Okay? So this is a good practice problem for doing seven and circuits when you have AC. So our goal is to find the Thevenin equivalent. Okay, let's write the equations. Notice that let's actually take a step back and remember that when, when you have mutual inductors, you have that the inductor, the voltage across the inductor is equal to L1 d i1 d t. Let's call this I1. We'll call this I2 plus n, The I2 d t. Now we're in sinusoidal steady-state. So we can just rewrite this as j Omega L one I1 plus j Omega m i2. Likewise, we can say that the second voltage is j omega M by R1 plus j Omega L two i2. Okay? So we're in sinusoidal steady-state. We're assuming that we've power on the reader, the reader sending several cycles of a sine wave. And then we're picking up that power on the tag site. So what is the open-circuit voltage? The open-circuit voltage is what V2 is when I2 is equal to zero. Well, that's simply j Omega m i1. So we need to know what I1 is. But from this equation, we could say that if i2 is zero, V S is j Omega L one i1, i2 is zero. And so I1 is simply VS divided by j Omega L one. So if we substitute that into here, we have that the open-circuit voltage is j Omega m i1. But we just found that I1 is VS over j Omega L one. Interestingly, the j omegas cancel out and we have a ratio of M over L1 times V s. So this is the open circuit voltage from the tags perspective. When the reader turns on and starts transmitting a sine wave. The amplitude of the sine wave that we see on the terminals of the tag is the ratio of m over L1. M is the mutual coupling. L1 is the self-inductance of the primary coil. Now, unfortunately, because these coils are really far apart from each other, let me draw a picture. Right? These are the magnetic field generated by the reader. Only a tiny fraction. Actually impinges upon the tag. So this ratio of m over L1 is very small. In fact, we call this the coupling factor. It's related to. You could write m as some coupling factor times the geometric mean of L1L2. This is kind of standard done in physics. In which case what we get is that the open-circuit voltage is the coupling factor times the square root of the turns ratio, L2 over L1. Now, we can see that this equation has several unfavorable things about it. L1, as the reader, It's big. You can have lots of turns, right? But L2 is the tag. It's tiny. You can't have that many turns to this ratio of L2 over L1 is not going to be a huge number. In fact, it might be a fraction. And then this k factor coupling factor tells you what in essence, if all the flux from the primary coupled to the secondary, then the turns ratio would determine the voltage at the secondary. It'd be a good transformer. But this link is a terrible transformer. So only a small fraction of the flux links to the secondary. So K is much less than one. And just give you a number few centimeters away, you might find that k is ten to the minus three. That's a disaster, right? It means that on the source side, if you generate a volt on the tag, you're only going to get a millivolt. And that's bad. Why is that bad? Well, it turns out that on the tag side, you need enough voltage so that you can turn the switches on and off. Usually diodes. Something you'll learn about later hopefully. But in essence, thinking about turning on a transistor, how much voltage you need to turn on a transistor. Remember to turn on a transistor and you'd like a threshold voltage, it's half a volt or something. So we need swings which are several hundred millivolts big enough to activate the tag. So if you come in with a millivolt, nothing's happening. And so how do we actually make this link work practically? Well, let's continue solving the problem and we'll see the solution. Any questions about this? Now this is a little bit of physics some of you may have not seen before. Yes. At this point we're just finding the open-circuit voltage. We're just finding V7 and we haven't found yet. So that's what we'll do next. So let's find zs. So this is V Thevenin. Let's find Z Thevenin. Now we're going to use an approximation to find Z Thevenin, which is an engineering. A lot of times you can find the exact answer, but it's just a lot of algebra and you can kinda guess that some things won't matter. So what am I talking about here? Well, remember Z, the Z Thevenin is the impedance looking into here when the source is equal to zero. So we short out the source and we have L1, L2 here. Now, I can hook up a current source here, inject some current into this loop, and observe what voltage is across V2. But you can kinda guess that even though there'll be an induced current in the primary, It's going to be tiny, right? Because k is so small, the coupling factor so small. So for all intents and purposes, Z Thevenin is approximately just r2 plus j omega L2. I encourage you to actually find the exact answer. And then you'll find that there's a correction factor which goes like k. And k is small, so you can drop it. So that means that we've reduced our problem to simply V Thevenin, Z Thevenin. And to find the optimum load, it's actually quite easy. All we have to do is find hookup, the complex conjugate of this. And that would be the optimum load. But here's the problem. What voltage am I going to get if I hook up the complex conjugate load? Remember under optimum conditions, what load voltage do observe. Think back to the solar panel, one-half. So if I'm only getting the open-circuit voltage is a millivolt. If I hook up the conjugate load, I, I maximize power transfer. But I only get half of the voltage. That's bad, right? Because half of the voltage is half a millivolt. It's not enough to turn on and off switches. So I'm going to make the observation that if I care about voltage, if I really want to turn on and off voltages, I can hook up a load that looks like this. This load is a parallel load, It's not a series load. I can still make this load the complex conjugate. But the advantage is that now I'm looking at the voltage across the capacitor. Which in resonance, something we haven't really talked about too much in the context of AC circuits. I know I can make very large. So trust me on this, and then hopefully I'll show this to you in a minute. So I'm not cheating. I'm still doing the same thing. I'm hooking up a ZL that needs to be the complex conjugate of z S, or Z7. So what is the L? Well, ZL is simply the parallel combination of R, L, and Cl. Since I need to write this in terms of real and imaginary parts, I'm going to multiply by one minus j omega our LCL divided by the denominator squared omega squared RL squared CL squared. So now I need to make this whole thing equal to Z Thevenin. So that means that RL divided by one plus omega squared RL squared CL squared needs to equal to R2. So this is the real part. And then the imaginary part is I need to make one minus Omega RL CL divided by one plus omega squared RL squared CL squared equal to minus omega L2 minus because it's the complex conjugate. And we see the minus sign actually just cancels out. Okay. Is this clear what we did make sure you understand? Yeah. Yeah, the omega L2 comes from Z7 because Z7 and this is the Thevenin. And so omega L2 is the imaginary part. Will other questions? Yeah, in the back over here. So all I need I can hook up I need to hook up a load, which is the complex conjugate of the source. And any load will work. It can be any circuit that I choose. What I'm choosing here is the parallel capacitor and resistor. I could have chosen a series capacitor and resistor, but my observation is the following. So why didn't I choose the series? Well, it would still, the series is a perfectly good solution for maximizing power, but it actually is very inconvenient. This is our two. This is j omega L2. And so I need to pick some CL and RL, which of course here is clearly that. So I could have chosen this capacitor. And what happens is you'll notice that in essence, what we found was that excess will cancel. This, this is J excess, this is j XL. The optimum choice is to actually cancel the imaginary part of the source impedance. Which means the equivalent circuit in resonance is this. Remember we're trying to transfer power into the real part because we need to actually wake up the tag until the tag, Hey, we want to communicate with you. Now this equivalent circuit, so this is valid under conjugate match at some omega. Of our choosing. So we choose a frequency to communicate, say 13 mhz. And then this is the equivalent circuit. And certainly this will maximize power transfer. But the voltage transfer is going to be very small. The voltage across RL is just gonna be V over two, and V is very small, right? Vs is very small. Two millivolt, let's say it's half a millivolt. So I'm playing a trick which is to, instead of using a series load to use the shunt load, Shunt L star RC. And I'm going to show you that in this case, you can actually not only transfer the power, but also boosts the voltage. So stay tuned and you'll see how that comes about. Any other questions? Yeah. We'll put that should be. Yes. Thank you. Okay. Let me also observe that these two equations have to be valid, but also their ratio has to be the same. And what's interesting is the right-hand side, calling this the right-hand side, involves the source. These involve the source and this left-hand side involves the load. So let me take their ratio, copy it so that we have a reference point. Okay? Let me take the ratio. Of course the denominator cancels out. So I get omega L2 over R2 is equal to Omega RL. Cl. Made a mistake somewhere because this RL should not be canceling out. So let me go back and see what mistake I made. Let's see. So this, Oh yeah, this is RL squared. Because here I have RL multiplying by RL, so I get a squared term. Again, the units saved us, right? I just knew that was wrong because the units, so this is RL squared divided by RL. So I get omega cl RL. And for reasons which will become clear later, I'm just going to define this as the quality factor. The quality factor Q is omega L2 over R2. And if you go back to our lecture on resonance, you'll remember that we actually defined a very similar quantity. And the numerator is proportional to the reactive energy stored in the coil. And the denominator is proportional to the loss in the coil. So this actually makes, defining this things this way. It makes it very convenient because we can say that this denominator here is one plus q squared is equal to R2. This equation, and this equation. We can write it as omega cl times RL squared. I'm going to square everything and then divide by omega cl. And so now I can solve this equation and say that the optimum load impedance is r2 one plus q squared. And the optimum reactants is equal to not simply omega L2, but omega L2 times one plus Q squared divided by q squared. So if Q is very large than these terms go away. But in general, this is the optimum solution. So this is the optimum parallel load that you should connect to maximize the power transfer. Any questions? Okay, so now I want to show you guys why we did this. Let's now look at the voltage that we observe across the capacitor. So this is Cl, this is RL. Well, at resonance we know that the current I is simply VS over to our to say what, what, where did that come from? Well, remember this load, the optimum load. In essence, I can convert this to make sure you understand this. I can always convert this into an R prime and C prime. Mathematically, I know that this part and this part are canceling. Essentially. This is what we did, right? This is, if I solve this equation, I get the effective r prime and C prime here. But it's actually not even important what the exact values are. We just know that in resonance, whatever voltage you get across here, you get the minus voltage across the capacitor and they cancel each other out. So conjugate matching is actually resonance. It's saying you should resonate the circuit. Can. We haven't talked enough about resonance? So hold onto, that idea will come back to it. Why do I know this is true? Well, I know that x L is minus XC, right? Let me use the right notation. I know that x, the load should be minus the source, right? So this impedance here is j excess. Then this should be minus j excess. So when current flows in the circuit, when AC current flows, it imparts a voltage across here. And an imparts the same voltage across the capacitor, except with a minus sign. By design. So by design we're getting the imaginary parts to cancel out. And so the current that flows is therefore just. And this of course is equal to R2 under conjugate match conditions. So the current that flows is just the source voltage divided by two or two At resonance or at some frequency omega naught. So we chose 13 mhz. We conjugate match at 13 mhz. And what we find is the current flow takes this form. Alright? So let's find the voltage now across the load. This is r2 and this is my RL, this is my Cl. So the voltage across the load is simply I times Z L i is VS over this is VS here to R2. And ZL is simply the parallel combination of Cl and RL. So this equation says that the transfer voltage transfer function under the conjugate match conditions is RL divided by R2. And let's take the magnitude so that we get one plus omega squared CL squared, RL squared square root. The question is, is this good or not, right? What is this value? Remember, we want a large voltage transfer so we can turn on and off switches. Well, remember, RL is r2 times one plus q squared. So let's substitute that in. Interestingly, the R2 cancels out. And you might recognize omega cl, RL is also Q, That's one plus q squared. And so this whole transfer function squared, or let me just say the magnitude is one-half. That's what we would have gotten if we had used if we had only used if we use a series load, that the transfer across the load would have been 1.5. But now it's one plus q squared divided by square root of one plus q squared, or one-half square root of one plus q squared. Now you see hopefully that we did the right thing, because Q is kind of under our engineering control. This is what Q is. It's the coil, It's the losses in the coil on the tag side. So if we choose a frequency omega, where the ratio of omega L2 over R2 is large. How large? Well, I don't know. Let's pick 100. Then the voltage transfer ratio now can be made to be approximately one-half times q. In other words, we can. Take that half millivolt and turn it into 50 millivolts, right? If we make the Q larger, if you go to q of 100, then we can make this like, you know, 50 millivolts. So you see the trend. Q, the boost that we get in this RFID link under conjugate match conditions is a factor of Q and Q is a physical quantity. Essentially under our control. If you look at this equation, it says, Hey, operate at a higher and higher frequency so that omega L gets larger and larger. And it is true you can go to higher and higher frequencies and transfer a larger and larger voltage. So that's quite exciting. And that's actually how RFID tags work. Rfid tags are designed to have a load capacitance, which resonates. We say this, this under the condition when we say load capacitor resonates. It means we set it equal to the minus part of the, basically we make it cancel out the inductance. So I'm saying a lot about resonance circuits and I wasn't planning on lecturing on them. But let's talk about resonance because this is really an example of resonance. Okay? So what is resonance? Let's go back to our RLC circuit that we've already studied. And let's now just analyze it in the sinusoidal steady-state. Using our new tools. This is actually pretty easy for AC circuit perspective. We can say that this circuit has an impedance of j Omega L plus one over j omega C plus R. And so for instance, let's look at the output voltage across this resistor, if you will. The voltage across this resistor is simply VS divided by Z times r. Well, this is, in other words, if we define the transfer function H1 or HR, Let's say as V over V S. This transfer function has a form of R over Z. The voltage divider, right? Kinda obvious. Z is the total impedance around the loop. R is the impedance where we're observing. And so this takes on the form one over j omega c plus j Omega L. Let's clean this up. We'd like to put it into standard form. We can multiply the numerator and denominator by one over j omega C. So that cancels and denominator. So we get a one here. I'm going to J omega RC here, and then we get a j omega L times the j Omega C. So this gives us one minus Omega squared LC plus j omega RC. So we can do some sanity checks whenever you derive the transfer function. Try to do sanity checks. Remember, figure out, does the transfer function makes sense that low-frequency DC? Does it make sense that high-frequency, where you make the inductors start to look like open circuits, that capacitors look like short-circuits. So let me check those two cases out. What should the circuit to a DC? What should the VR, should HLR go to a DC? Intuitively, you can just say like one or zero. Let's see, Let's take a vote. How many people say it's a one? How many people say it's a zero? Okay, everybody knows it to zero because there is a capacitor. Capacitor doesn't let current flow at DC to the transfer function zero. And indeed, I didn't make a mistake because the numerator goes to zero, denominator goes to one. That checks out, but one check mark there. Okay? What should the circuit due at really high frequencies? What should h of r do at really high frequencies? The capacitor looks like a short circuit, but the inductor starts to look like an open circuit. That means the current gets smaller and smaller and infinitely high frequencies when the inductor is an open circuit, no current flows. And so the transfer functions should go back down to zero. Let's check that. Well, in the denominator, when omega is very large, omega squared term dominates. And on the numerator you have an omega term. On the denominator, you have an Omega squared term. So this goes like one over r Omega. Indeed it goes to zero, so it checks out. There's two checkmarks. Okay? So if we're looking at this transfer function, there is a really interesting point, which is what happens. Like if you look at, you're looking at special frequencies here, it's kinda very obvious there's a special frequency in this circuit, right? What is that special frequency? So we have h of r of j omega is j omega RC one minus omega squared LC plus j omega RC. Well clearly, when this term goes to zero, the transfer function goes to one. That's interesting. Let's call that frequency omega zero. Omega zero squared LC is equal to one. Well that's actually remember what we called this. We looked at this in the time domain. This was the natural undamped frequency, right? This is the natural undamped resonant frequency. The transfer function becomes one. Why is that? So here I have an inductor, capacitor, and a resistor. Let's plug in what happens at a frequency omega L. So excuse me, a frequency omega naught, which is one over square root of LC. So for the inductor, we can say that ZL is j omega naught L. In other words, it's j square root of LC times L, or it's j times square root of L over C. And I know from experience that this is just a constant, I'll call it z naught. Some impedance since extra resistance value. Let's see what's happening across the capacitor. Across the capacitor. The impedance is one over J omega naught C. And so this goes into the numerator. And I get again one over j square root of L over C, one over j is just minus j square root of L over C. In other words, it's minus j z naught. Very interesting. At this particular frequency, omega naught. The impedance of the capacitor is in magnitude equal to the impedance of the inductor. But more importantly, it's phase is 180 degrees away or it's the negative of that. That is the resonant condition, right? And this looks like conjugate matching, right? Remember, and conjugate matching we found we should cancel out the imaginary component. So what is happening here is that when current flows in this circuit, it generates a voltage across here of magnitude j, z naught times the current I. It also generates a voltage across here of magnitude minus J, z naught. Since these two elements are in series, What's the net voltage across them? Zero. In other words, I is V over R at resonance. And when i is VS over R, What is the voltage across R? Just VS? And that's why the transfer function becomes one. Very interesting this circuit. You can think of it as, as at resonance, it maximizes the current flow in the circuit. Because if you're off resonance, the current flow is either limited by the inductor or the capacitor. At low frequencies, the capacitor limits the current flow because it has a high impedance. At high frequencies, the inductor limits the current flow because it has high impedance, but some resonance frequency we call it when they're reactants is cancel each other out and they always will happen because one is going like Omega L, one is going like one over omega C. They're always going to intersect. At the point of intersection, we say resonance has happened. The reactants is cancelled out. We maximize the current in this circuit. Alright. Let me now make another interesting observation, which is let me define another transfer function. We'll call that h of c, which is as a function of j Omega. At resonance, I want to know what value does it take? Well, at resonance it's going to take a value of I times one over J omega naught C. But i is simply VS over R because these reactants is at resonance cancel out. So this becomes. That the voltage transfer function is VS minus j one over omega naught RC. I can write this in different ways because omega naught is equal to square root of LC. And so this becomes minus j Z naught over R. So the voltage across the capacitor, remember z naught is square root of one over LC. So it's very interesting in this circuit. I can choose, let's say you're designing this circuit, you have a choice. You can pick L and C. Let's say you want it to resonate at 100 mhz. So I'll just pick a number. So I can pick any value of l and c such that their product is two Pi 100 mhz squared or one over that. But clearly it makes a difference because if I choose one where the ratio of L over C is very large, let's say the ratio of L over C is a kilo-ohm. And let's say the r of the circuit is 1 Ï‰. What happens? What would you say that? What, what, what's the magnitude of the voltage across the capacitor? Thousand times larger than the source. So this circuit actually can boost the voltage by 1,000 or whatever X is, thousand, hundred, whatever the ratio you want, right? Of course this practical limits. So there are people who do work in high-voltage electronics and they tried to make this as large as possible, the wind as many terms as they can and they try to make this 1 million so they can generate 1 million v. So they can do interesting things, experiments. But yeah, this is essentially the physics is there. It tells you that yeah, you can arbitrarily make this larger, larger, as large as you like, as long as you can make this inductor, for instance, big enough. Because remember, we want the inductor to be big, the capacitor to be small. You run into problems because if you make the inductor really big, it has a lot of resistance. So people will then super cool things, right? They'll wind up the inductance and cool everything to make the resistance as low as possible and generate enormous voltages. Alright, so resonance circuits are very interesting. They let you do a lot of cool things. We can spend a lot of time talking about them. Finally, let me make one plus connection to what we've already learned. Let's look at the quality factor of this circuit. To the quality factor of the circuit is actually something you've seen before. It's Omega L over R. So let me go through this transfer function and use this definition. So here's the transfer function. So the ratio omega L over R can also be written as one over Omega C times one over r. Because at resonance, this is the definition of resonance. And so this allows me to actually modify my transfer function and put it into a very nice form that you've seen before. So I'm going to multiply and divide by omega naught. And this is basically omega naught squared. So this becomes omega naught. Notice I'm getting rid of all the Rs and Cs and putting this into some standard form, which is the numerator. Me, make this smaller. Make some room here. The numerator is j Omega times Q omega naught. Denominator is one plus j omega divided by Q omega naught plus j Omega over Omega naught squared. So now the transfer function is kind of put into the standard form. Sorry, we just copy this over. Shoot. There we go. So we have numerator and denominator. What we're going to find is that as we analyze these circuits, whenever you have an RLC circuit like this, no matter which transfer function I look at, I can look at this transfer function, this transfer function, or this transfer function, like for instance, the VC transfer function, which we found earlier. They're all going to have the same denominator. I can prove this to you because we've actually already seen this. If you go back to our lecture on vector differential equations and harmonic steady state, what you'll find is that you get a rash. Every transfer function is a rational function with poles and zeros. We call the numerator the roots of the numerator. We call those zeros or the roots of the nominal, we call poles. And all transfer functions have the same denominator. I encourage you to go back and look, we're pretty much derived this, that this is always true in that meat. And if you recall, where do the, if you go back to the vector differential equations, you'll see actually I'll just put a plus sign for convention. I can factor this into, let me do it right. J Omega plus P1, j Omega plus P2, right? I can always take this denominator and expand it into a product of terms, right? Fundamental theorem of algebra. There's nth order equation has n roots. I can always write it this way, where the roots are minus p1, minus p2 and so on. You might say, why didn't you put minus sign there and you could have, but I want to just stick to convention. What are these roots? Does anybody remember where do they come from? Remember when we did this? Where did these roots come from? They come from the characteristic equation, which what would you call the roots mathematically. I'll call them lambda one, lambda two right? There, the eigenvalues, right? So these are related, these are basically the same as the eigenvalues of the state-space representation of the circuit. That's why denominator is always the same, because the eigenvalues are the same. No matter what transfer function you look at, you get the same eigenvalues. Okay? Let's look at this transfer function with a little bit more. In this form. Because this is a real quantity. This transfer function actually has two roots which are complex conjugates. So let, let's find those roots. Let me write one plus alright, j omega is S. Set this equal to zero, and let's just solve. So S is equal to minus one-half. Let's see. Write this as one plus a S plus b squared. Let me just call this b. And c. A is one. So a is equal to minus one-half b over two plus or minus b squared minus four ac. So now substituting for B, B is, so this is j Omega. And let me just call it S for now. This is one-half Q omega naught plus or minus b squared 1/4 Q squared omega naught minus four. C is equal to one over Omega naught squared. This should be squared. And there's a factor of one-half here. You'll notice that this equation should look familiar, right? It should look a lot like what we derived earlier. Let me actually let me just put it in exactly the same form as we had before. I'm going to multiply everything here by Omega naught squared. Do the same thing. Okay? Look familiar. Let me pull out the omega naught here. This would be one, let's say one over Q. Does this look familiar? Yeah. Yeah, when we studied the second-order differential equations, we found the characteristic polynomial, basically took on this form. The only difference is that we define zeta there, has 1/2 cubed. If we go through and plug in zeta as 1/2 Q, we get exactly what we got before. So this in the frequency domain, the frequency, the resonance frequencies are more or less the same as those frequencies that we looked at when we analyze this problem in the time domain. In fact, we found that the interesting case was when this circuit behaves very interesting when the poles are complex. So here if we take this and this is not h of r, This is the polls. I'll call this plus and minus because there's two solutions. So the solutions of this equation, when this term is less than zero, then we get complex conjugate poles, right? So S plus minus is equal to the real part, omega naught over two cubed plus or minus omega naught over two, j four minus one over q squared. We pull out the 41 -1/2 q squared. And this is zeta squared. So this exactly is the same as what we had before. This is the damped resonant frequency. So this is all connected, right? Ac circuits, time domain circuits. The characteristic polynomial, the eigenvalues, the poles, the resonant frequencies that are all connected to each other. So we could spend a lot more time exploring this, but I've only got 9 min left. So I want to introduce you to some concepts that you guys will see in the discussion sections. But before I leave this, I just wanted to make sure there aren't any questions. Yeah. No, because that would imply that you can store an infinite amount of energy, right? So you can have zeros and poles at infinity, but those aren't resonant frequencies. So it's a good question like, let's do an example. Let me transition now to the next topic, which is Bodie plots. And what are Bodie plots? Bodie plots. The concept of it is so simple, I can teach it to you in 10 min, but you won't be able to do it until you practice on discussion sections, you guys is gonna get some practice. So what is a Bodie plot? I can tell you it's really simple. If I have a transfer function H of j Omega, I want to make a plot of this. And with Bodie plots, I'm going to take the magnitude, square it. And then I'm going to multiply this by, I'm actually going to, instead of plotting this directly, I'm going to plot it on a log scale. I'm going to plot 20 log of H of j Omega. So why do I square the transfer function? Well, squares for power, right? Power transfer so that y multiply by ten. Well, I'd like to make the numbers, I don't like fractions. I like numbers that are bigger than one. And you'll see there's this arbitrary convention. We multiply by ten, which turns into 20. So this is the magnitude plot. And then of course, you can also plot the face. So I'm going to make two plots. I'm going to take 20 log of H, plot it versus frequency. And see what it looks like. And we'll do some examples and also plot the phase versus frequency. And the frequency is a log scale as well. So why do this? Why the log y introduced the log and this is the part I can explain in five-minutes. But we know that the arbitrary transfer function has a numerator and denominator, which can be factored into poles and zeros. Okay? Now, because we're taking the log of this thing, everybody likes logs because logs of products equals sums. It's kinda funny. I was listening. I was doing a carpool with my daughter. They're high school students and they're talking about logs rights first-time they learned about logs and I like my teacher told me that the log of a product is the sum. That can't be right. And then I told her actually it's true. And I told her about how before we had calculators, people would carry around log tables like engineers would have these little log tables in their pockets that they would pull out. And to calculate products, they would take the logs and sum them together, right? Name had a special ruler for that. Okay, so why do we love logs? Because if I take the log of H of j omega magnitude, that's equal to the log of the magnitude of these individual terms. This is something you can pretty easily prove or you maybe just know it from seeing it many times. And once you have it in this form, you know that it's just a sum. Some of the numerator terms minus all denominator terms. Okay? Why is this a good thing? Well, they all look the same. They're all, I can pull out all the constants here and write them in a normalized form. So it can take H of j Omega and write it as in this nice normalized form. Every term looks the same. The only thing that's different is this constant. And there's a constant here which has all the zeros and poles, right? That I pull out. So if I pull out all the poles and zeros from here, then I just get one plus something that looks j Omega over pull 1011 plus j Omega over 02. So this is what we have over here. Every term is the same. So if I know how to plot one of these, I know how to plot any transfer function by simply summing them together. So how do I plot one of these things? Let's look at one of these terms. Let's look at this one in particular. What does this look like? Well, I want to plot 20 log of this. I'm going to make a piecewise approximation, which is looking at frequencies where this term is small and frequencies when this term is large. Because when this term is small, I have log of one plus a small number. What's log of 10? So I'll just call this Z zero Db. Db tells me that this is a 20 log of in the range where omega over Z1 is large. What do I get? I get 20 log of the second term and magnitude. Write the magnitude there is going to be Omega over z1, right? So this is it for the large frequencies, this is approximately 20 log of omega over Z1. And so this basically looks like a constant times log of omega times 20. So if you were to plot this on this log scale called the zero dB, up until this frequency Z1. The transfer function. It's kinda flat. And then it starts increasing with a slope of 20 dB. The 20 coming from here, 20 dB per decade slope increases and it follows a straight line. And the intersection point is here. So that's the numerator term. The only difference with a denominator term is that there's a minus sign because it's in denominator, right? Log of one over x is minus log of x. So if I were to plot denominator term, it would look like that, look like -20 dB per decade. And so to construct a full transfer function, as far as the magnitude response goes, all I have to do is plot the individual terms and sum them together. Okay, so you'll get some practice doing that. I apologize, I didn't spend enough time doing this. Also didn't get a chance to talk about the phase response. But hopefully you guys will have no problem picking it up from discussion section. That's all the time I have. Thank you, everyone. 