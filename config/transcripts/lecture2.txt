Running the gas cap. Okay, Good morning class. Let's get started. So last lecture we started reviewing capacitors. We're going to finish that up and then we're going to start a new topic today on RC circuits. So jumping to where we left off last time, we started talking about capacitors and how we actually build capacitors. So we talked about discrete capacitors are things you would put on a PC board, right? I printed circuit board. Those cylinders or there's little plates. Ceramic capacitors are electrolytic capacitors are very familiar to some of you from 16 and being in the lab for instance. And then perhaps less familiar to you is how you build capacitors and integrated circuits. So an integrated circuits, we have an amazing technology where we can fabricate very, very tiny devices. So you can have, you see these fingers here. These are, this is a top view of a simple capacitor where we're using basically the lateral spacing between these fingers as the effective dielectric thickness. If you think about a parallel plate capacitor, those are two plates on top of each other. This is like a finger capacitor where you have two plates which are kinda intermingle this way with very, very small gap spacing. We're talking about tens of, tens of nanometers of gap spacing, 40 nm or gap spacing depending on the technology node. So we have very advanced lithography, so we can bring these things very close together. And of course, from what we studied last time, we know the closer these plates are, the higher the capacitance that we can get. Moreover, in a modern integrated circuit process, you have many metal layers to take advantage of. You might have ten or more metal layers. So you can stack these things either in the same direction or you can even go 90 degrees to try to get even more coupling not only between kind of horizontal directions, but also vertical directions. Okay? So what That's how we build capacitors, but capacitors don't live in a vacuum, right? Capacitors usually are made with materials. In particular, what we put in between the plates is a dielectric. A dielectric is an insulator. We talked about insulators and conductors last time. So a dielectric doesn't conduct current, but it does respond to electric fields. And as we discussed a little bit last time, when I had these two plates and I put a dielectric in between, I want to know how does this affect the capacitance? Is capacitance go up or down? How many people think that capacitance should go up? Down. Okay, I didn't see that many hands, but more people are saying that capacitance should go down. So let's reason this out. Remember our model for an insulator. In this case a dielectric is, remember the community where everyone is very strict. Nobody can leave, right? So the electrons inside of the atoms or the molecules that make up the dielectric aren't allowed to leave. Their are basically stuck orbiting the atoms. But when we apply an electric field, even though they can actually leave their location, they can displace, right? So we get a slight displacement of their location. And that's kinda what we're showing over here. We're showing that this kind of blue thing is, let's imagine that's an atom initially. Let's suppose that it's spherically symmetric, so the plus and minus perfectly cancel each other out. But now because of this external field, we get this displacement of the plus and minus charge. It could be a very small displacement, but because there's a lot of atoms, right, it all adds up very quickly. So what does that mean for capacitance? Well, let's imagine all of these atoms displacing might be a little bit hard to make out here, but basically, let me draw it in. We can see that we've applied a voltage, a positive voltage over here, negative voltage over here, we have an electric field between these plates. This electric field is causing the displacement, which is basically pushing the electrons a little bit more up than down. But because the material we're assuming is a uniform dielectric, there's neighbors that are doing the same thing, right? There's a neighbor over here that's doing the same thing, and there's a neighbor over here that's doing the same thing. There's no net charge being deposited in this material, even though we have this displacement occurring. On average, if you take a small region, the net charge is still zero. So we're not, can't say we're inducing any charge inside the material. But we are doing something very interesting at the boundary. At the boundary, there is no neighbor, right? Looking up, the neighbor is a metal. A metal is a different beast. So that cancellation that's happening inside is not happening at the top. And similarly at the bottom, the cancellation is not happening. And notice that the charges which are effectively induced at the top of the dielectric and the bottom of the dielectric are of opposite polarity of the charges that are on the plates. Which means they're actually effectively lowering the amount of charge on the top plate and the bottom plate, right? So if we go back to our definition of capacitance. Remember, capacitance is the capacity to hold charge for a fixed voltage. So here for a fixed voltage, 1 v, I get a fixed electric field. And for that fixed electric field, I'm able to deposit more charge onto the plates because the negative charges here, I'm making my life easier, right? Remember, the whole problem was a capacitor is that you have this repulsive force that you have to overcome to charge a capacitor. That's why capacitor stores energy and anything we can do to make that repulsive force. If we can lessen that repulsive force, we can put more charge on a capacitor, right? One way is we made our capacitor bigger. That was the minus charges. And the plus charge is spread out. We can put more charge on. Another way we found was to put the minus plate close to the plus plate. So the positive and negative charges cancel each other out. And so bringing in new charge onto the top plate, let's say a positive charge now takes less effort because there's a cancellation of partial cancellation of the charges on the top and bottom plate. Now we're getting a partial cancellation of charges due to the dielectric, which means it takes less effort to put charge onto this structure, which means we've increased the capacity to store charge. So a dielectric causes the capacitance to go up by exactly the dielectric constant of the material. So for instance, for a parallel plate capacitor, we, we can derive that the capacitance is proportional to the cross-sectional area, inversely proportional to the distance between the plates multiplied by the dielectric constant of free space. Multiplied by the dielectric constant of the material. This is the relative permittivity, which is a number like it could be five or seven. And it multiplies epsilon naught and it tells you how much more capacitance you have relative to using vacuum. So if I took two plates and vacuum, and I get a capacitance of one farad. And I replaced the vacuum with silicon dioxide, right? Sand ports. The dielectric constant of silicon dioxide is about 3.9. So the capacitance goes up by a factor of four. Okay. Yes Questions. He has a dielectric constant be less than one? No, because it kinda goes against physics. You'd have to have something else. Another mechanism forcing the dipole moments to go in the opposite direction. But it is an interesting thing that you bring up. One thing that you can do is you can take certain polar molecules and apply large electric field. Basically orient them in the direction you want. Then you can kind of freeze the structure. Maybe you apply it, basically modify the material so it no longer can move around as much. And then you frozen in place dipole moments which are in the direction that you want. And that's actually a way of making memory, by the way, ferroelectric memory. Okay? So we've talked about capacitance quite a bit. Now. We know that the basic relationship is q is equal to CV. And we've been talking about putting charges onto the plates of a capacitor. But we need to also talk about current. Because how do we actually get charges onto the plates of a capacitor? It's kinda difficult to pick up charges and shuttle them and then put them on the plates. We usually have to build an electric circuit to deposit charge onto the plates. So if we think about this q of t, the charge on the capacitor, let's say top plate, which is when we have minus Q of t on the bottom plate. The rate of change of this charge is of course just equal to the current, right? If there's more charge being deposited on the plate, that means that there's a current coming into the top plate. So let's arbitrarily call this the top plate of the capacitor. And this the minus plate of the capacitor. For a simple parallel plate capacitor, there is no plus and minus. You can assign it any way. You want. Some capacitors like electro, electrolytic capacitors we just talked about. They do have a positive terminal. You have to operate them with a certain polarity. But using the sign convention that we use the current going into the plus side, we call that a positive current. And we can say therefore that if there's current going into a capacitor, the charge on the plates of a capacitor that are increasing. So if we take a derivative here, capacitance is constant. Capacitance is just a function of the geometry of the structure, right? It's not changing in time. Of course, you can build the capacity that varies in time, but let's say we don't do that because most capacitors don't operate that way. So that means the derivative is only on the voltage. And so the I-V relationship of a capacitor is this. Remember for a resistor, the I-V relationship is this. So capacitor is very different. In particular, if you think about a resistor versus a capacitor. Because the current going into a capacitor is a derivative of the voltage. The current can actually be positive or negative, right? It just depends. Is a voltage increasing? The current is positive, it is a voltage decreasing the current is negative. So why is that important? If I have a circuit, I have a block box here. I don't know what's inside. But I know that if I hook up a voltage v here, if I monitor the voltage V, maybe I have something like this, some load. And let's say that I observed that current is coming out. What can you say about this question mark? Is it delivering power or is it absorbing power? It's basically if the current is indeed in this direction that is delivering power, right? How do I know that? Well, we define the power flow as v of t times I of t. And we can say that because the current is negative, this is less than zero. So this is delivering power or sourcing power. Okay? If you think about something like a resistor. A resistor, if we look at the I-V curve of a resistor, it lives in the first and third quadrant, right? So a resistor I times V is always positive, because if v is positive, IS positive, is v is negative. I is negative. For instance, the lights that are above me, they have AC current flowing through them. That means the voltage is positive half the cycle and then negative the other half cycle. The current always tracks the voltage. If the voltage is positive, the current flows in one direction. When the voltage goes negative, the current flows in the opposite direction. Both cycles, it's actually dissipating power, right? So a light bulb, a resistor, it always dissipates power. But what we're saying is that for a capacitor, it's very easy for it to actually supply power, right? When you're charging the capacitor, it's absorbing power. It's storing the energy. When you discharge a capacitor, dvdt goes negative. It's supplying power. So that's why a capacitor can act like a source that we talked about last time. It's different from a battery, but it can more or less act like a battery over a short time scale. Because if you wait long enough, you're going to discharge the capacitor. I think there's a question in the back. G is just the conductance. G is one over r. Okay? Now we've define the capacitance between two conductors, right? The idea is that we take a voltage source, we charge it up to a certain voltage. We look at how much charge gets deposited on these conductors. And that defines the capacitance. But in many situations there's more than one conductor. There's many conductors. And we could basically use the same procedure and find the capacitance between all of these structures. Even these structures here will couple to each other. In general, the capacitance is a matrix because there's coupling between everything, right? If I take, for instance, in this picture here, I could disconnect this here and connect a voltage source from here. And I'll just use the ground symbol for convenience, right? Which means I've connected it over here. And now the plus charge will flow onto here, and the minus charge will flow onto here. And from that measurement or calculation, I can figure out what the capacitance is between those two conductors. So in general, when you have N conductors, you have n squared capacitors. And they're not all unique because the coupling doesn't care about the direction for most materials when things are linear, doesn't matter if I charge up conductor one and observe conductor N, or charge up conductor N and observe conductor one. Capacitance is gonna be the same. So we get a symmetric matrix. And of course, you guys are quite familiar with capacitors from 16. You know that most touchscreens are most good touchscreens are capacitive touchscreens. And here's a system of conducting and capacitors. Again, I won't review this because this is really 16 material. Also from 16, you probably remember that you can put capacitors in parallel. So if you have a system of conductors, this is C1, this is C2. If we put these in parallel. In fact, it's very easy to extend this to n capacitors. We can model this as an equivalent capacitance. I would say that this is equivalent to one capacitor. And to find c equivalent, we just equate. We can say, well, I is has to equal c equivalent dvdt. This is the voltage, but over here, the voltage is the same. These are all in parallel. So the same voltage is going through every capacitor. So for every capacitor, the current is simply CAN dvdt. And the current coming in is i1. This is i1 plus i2, i2, all the way to I n. And for each one we have C1 dvdt, C2, dvdt, CAN dvdt. So from these equations, it follows that the equivalent capacitance is just the sum of the capacitors. And so this is very handy. We can simplify a lot of circuits when we have many parallel capacitors, either exactly in parallel or sometimes even approximately in parallel. We put them together. And this is really important because later on we will find out that every capacitor in your circuit Is a state of the circuit and you have to keep track of all these states. And that means that the circuit becomes more and more complicated. If we can take capacitors and combine them, we reduce the number of states, life is good. So parallel capacitors are quite easy. Series capacitors are a little bit trickier. Let's start out with two capacitors in series. So I have a voltage here. That voltage partly gets dropped over capacitor one and partly over capacitor to have some current flowing in. And again, I want to model this as a single capacitor. So that means that the same voltage is applied and the same current has to flow inside. These are equivalent. You can, all, you really can think of this as doing a seven and equivalent, right? You're saying, I don't know what's in the box, but the I-V relationship should be the same as my model. And if I can make them exactly the same for all conditions, then what's inside the box is equivalent to my model, right? So here's the tricky part of this. There's different ways of going out for this problem. But one way is to notice that these two capacitors are getting charged up, charge Q1 and Q2. And we know that the voltage V is the sum of the voltage V1 plus V2. What can we say about Q1 and Q2? Yeah. I think Say it again. Yes, they're the same. Why are they the same? Anybody? Yeah. Very good. Yeah. So this is a what we call floating node. There's no way in this picture for charge to flow onto that conductor right in-between those capacitors, we have a wire. And if there is charge on that, it has to get there somehow. Write the circuit can't deliver charge to that node. You can deliver charge, you can pick up charge and put it there, right? But assuming that no one's done that, but that's just a conductor that's not charged. It has to remain charged neutral, right? There's no way to physically with this circuit to get charged onto there. Like I could build another circuit which maybe has a current source and it forces charge onto that node. But with this circuit, without that current source, there's no way to put charge in that middle node. That tells me that the net charge over here, which is this charge plus this charge. So I could say that Q2 minus Q1 minus has to identically equal to plus. In other words, one has to equal to Q2. Because if one minus is equal to Q2 plus the net charge at that node is zero. And I'm not violating charge conservation. So with that, then this equation becomes much easier to solve. I would say that the charge of this entire structure, q is equal to c equivalent V is equal to c1 times v1, c1 v1 plus c2 v2. No, that's not what I want. C equivalent. And I can now substitute that. V1 is one over V1 and V2 is Q2 over Q1, which is also, let's just call it Q. So from this relationship here, you can show that the equivalent capacitance, one over the equivalent capacitance is this formula, which looks like the formula for parallel resistors. So the physical picture of what's going on is the following. Let me actually draw the capacitors in parallel. So you have some distance t1 here, some distance t2 here. This is a capacitor, right? And this is a capacitor. Well, if you think about this, It's as if these middle plates are not even there. They're really not doing anything for us. We could take the same two plates. So this is a cross-section. Of course the areas have to be the same. And let's just make this distance t1 plus t2. Physically, we're claiming here that the capacitance is the same. Let's call this epsilon one, epsilon two. Because whatever charges that we put over here, because no net charge can be on this middle plate. Even if we separate the charges. From an energy perspective, it's not making it any easier for me to put charges on these plates. Right. Because there's no net charge being deposited on the middle plate. For all intents and purposes, I can just get rid of it. So what I'm saying is that this structure, Let's just merge the two conductors in the middle. And let's just get rid of it. Let's just say you know what, it's just floating. It's not really doing anything. So let me make a capacitor like this. And you can analyze this problem with electrostatics, find the electric field for each case, integrate from one plate to the other and then from the other plate to the final one. And you'll come out with the same capacitance equation that we just derive. That the equivalent capacitance follows this formula. Okay? Any questions? Yes. For integrated circuits, we'll come back to that. Actually, there's so many capacitors because everything is so close together and integrated circuits, There's so many wires going everywhere. There's tons of capacitor somewhere in parallel summer in series, and some are neither, right? So we have to analyze them separately. In fact, it's a good question because it brings up what I wanted to bring up next, which is there are intentional capacitors, right? That's what you see on the PCB. In fact, this is a good point to emphasize something that a lot of kind of electronic newbies miss. Like if you look at any circuit board, there are tons of capacitors on it. I just told you I can build really nice capacitors inside the chip. Why are people putting capacitors outside the chip? Why is every chip like if we zoom in here? This is the chip. But you'll notice that there's these structures nearby and you can tell what they are because they're labeled. I just pulled this randomly off the Internet. You can see that there's three capacitors sitting right next to this chip. Why do we put these capacitors next to our chip? What's their role? You're not limited by volume restrictions like nanometres. Yeah, that's a good point. You can certainly make bigger capacitors off chip. In fact, if you think about an integrated circuit process and integrated circuit process is per transistor. It's very cheap, but real estate is actually quite expensive. So if you can make the capacitors cheaper and put them off chip, you will do that. But if you're talking about a company like Intel or Apple, they're trying to build the smallest form factor devices that they can get away without putting capacitors on the board and spend a little more, you know what, they'll do it, right? So why is it that we put capacitor to all over our PCB for power because they act like little batteries. And you might say, Well, what's the problem? You've got a big battery sitting in your phone. What are these capacitors doing? Well, from an electronics perspective, your battery is very far away. What does that mean? We'll have to talk about inductance next week to understand what that means. But for now, think about it takes a lot of time to get energy from the battery into your chip. And that will cause problems with your chip. Operating voltage may dip too low because you're not able to pull enough power from the battery due to the inductances, which we'll talk about next week. Putting capacitors right next to the chip is like putting little reservoirs of power that you can draw from. And this is why PCBs are littered with capacitors. These are sometimes called, you know, decoupling capacitors or supply capacitors are various names to emphasize the fact that their role is to supply power. And you'll notice that another interesting thing is that sometimes it's paradoxical because you'll see two capacitors in parallel. One it'll be big like one, it'll be one microfarad and the other one will be a nanofarad, 1,000 times differences. And why did they put two capacitors in parallel? That nanofarad capacitor is not doing anything, right. One micro plus one nano is one micro write in my book. So what the heck is that little capacitor doing there? Anybody know? Electronics kind of people, hobbyists. Why would you do that? Look on any data sheet, you'll see this fact. You'll even see pico capacitors. You'll see like a ten Pico capacitor, a one nanofarad capacitor, and a one microfarad capacitor. What the heck are they doing? Are they just dumb, right? Why did they put these three capacitors in parallel? Let me draw it out. So you know what I'm talking about. There'll be a one microfarad capacitor. Then there'll be like a ten nanofarad capacitor. And then they'll have the audacity to put a ten Pico farad capacitor, right? So what's the, we just learned that this is all equivalent to approximately one microfarad. Why do they have three capacitors? Yeah. Smoothing out the small differences in current? Exactly, yes. So this is something that most of you can answer at this point because we really haven't talked about inductance. But it turns out the bigger the capacitor, capacitor that you build, the slower it is. And by the slower, I mean, like if you ask for an impulse of current, you say, give me a one amp. That big capacitor couldn't say, yeah, wait up a minute. Alright, talk to me tomorrow. I'll give you an amp. Right now. I'll give you a milliamp. The little capacitor can't give you an AMP, but it can give you its current very fast. And so this is something that again, we have to come back to next, next week. But it turns out that these capacitors all have inductance associated with them. And this inductor limits how much current you can pull out of these capacitors. So the small capacitors, they don't have as much energy storage, but they can be really fast and they can make our circuit actually work. So something for next week to think about. Now, besides those intentional capacitors, there's unintentional capacitance, right? I just told you. And conductors have n squared capacitors. Look at all these conductors on a PCB, right? They're all sitting next to each other. They're sitting next to a ground plane. Every one of them has capacitance to ground and coupling capacitance to nearby conductors. And they're all there. You just have to live with it. And in integrated circuits it's even worse because things are even closer together. Okay, so let's switch over to lecture two and talk about RC circuits. So we've talked about capacitors and charging and discharging them. The easiest way to charge and discharge the capacitor is with a current source. And of course, in terms of like, we don't even have to do any math, right? Because we know that I is equal to. Use the same notation here. Dvdt. With a current source, we can say that IS constant. So I can just integrate both sides. Integrating the right-hand side, I get v of t plus some constant k. So I can say that the capacitance of the voltage on a capacitor is some constant K plus one over C integral of the current. And this makes sense, right? This is saying, Look, let's focus on the second term. The second term is saying the voltage on a capacitor is the integral of the current. Current deposits charge onto a capacitor, right? The more current you put onto a capacitor, the higher its voltage is gonna be, right? And how high is it going to be? Well, it depends on the capacity. If the capacity is very large, right? The voltage is going to be small. If the capacity is small, the voltage is going to be huge, right? Remember the analogy we gave for the water tanks, right? We have two capacitors. This is capacitor one. And we pump in water and we watched the water level rising. And then we have capacitor two. And we watched the water level rise. And clearly, if the current coming in is the same, the water-level V1 is going to rise much slower than v2. And that's because it has more capacitance. And this is what this equation is telling us is the capacity determines how fast the water level of the voltage rises inside of this capacitor. What is this constant? K is just zero. Just the inconvenience of doing integration. It turns out this constant is really important. It's important. You can't get rid of it because you have to take into account what was happening before. Like if I tell you that this is the current waveform. And I want to know that what the voltage is. This equation is telling me that I can displace this voltage by an arbitrary amount, right? This, this is just the integral of the current row of a plus pulse of current coming in. While the current is positive, the voltage will rise linearly, right? By this equation, if the current is constant. The integral of a constant is just a function of t, right? So just rises linearly. And then the current stops. At this point. The current goes to zero. And look, the voltage just hold its value. This is what's really interesting about capacitors is they can hold charge, right? They don't forget. This capacitor is remembering that it had a pulse of plus current come into it. And it's going to store that information. That's why we need this constant k. We can basically arbitrarily add a level here, because some previous pulse of current may have charged it up to a level of k. And unless it just happened to do that, unless you just happened to discharge it back down to zero, that K value will not be zeros. So that k value is telling you that a capacitor has memory. And we need to state what the initial conditions are on that capacitor to understand what the future values of the voltage are? Yes. It should be d t. Thank you. Somebody's awake. If I make mistakes today, I can blame my cat because we have a really sweet cat. Old cat wakes us up in the middle of night every night. So that's my cat's fault. Okay, so over here, if we look at this curve, we see that the current goes negative. This is zero. So now that the current is going negative, we can see that the voltage decreases. And if this pulse area is the same as this pulse area will return back down to zero. Okay? So apparently, when I drew this curve, I assume that the initial condition, the initial charge on the capacitor was zero. And so a lot of times you'll see the notation v of zero is equal to zero. V of the capacitor in this case, which we're just calling v of t. So I'll just call it v. And that's why we started out at zero and not up here. But keep in mind that capacitors have this ability to store charge, and it's very important. Let's now look at another circuit. Let's just pick up of simple resistor capacitor. What's the solution? Let's call that, let's call the voltage across the capacitor V, like before. What's v of t? Anybody? Yeah. This is the circuit. This is all, There's no current source, there's nothing. This is it. Well, in electrical engineering, right? We solve problems by writing equations, KVL, KCL, and we analyze those equations. So let's do that. This equation, this circuit is really simple. It's basically, I know the current in the capacitor as CDVDT. By the way, does this red look okay? Raise your hand if it's hard to read, I can switch colors. Okay. So the current through the capacitor is CDVDT. And the voltage, this current also has to equal minus V over R. Because I have a resistor here, right? And there's a voltage across it. That means that, that voltage will induce a current, ir. This is IC. And so the sum of IC and IR obviously has to equal zero, That's KCL. I can say that V over R plus C dvdt is equal to zero, or v plus r C dvdt is equal to zero. I have a differential equation. I need to solve this differential equation. To know what V is. You have enough information to solve this differential equation. Well, perhaps you guys already know what's the best way to solve a differential equation. It's one of the most tried and true methods, yeah. Separation now something simpler than separation of variables. Bulletproof way of solving a differential equation. Yeah, yes, exactly. You guess the solution. And then this is a math. This is math. This is not like English. There's no right or wrong answer. There's no debate about the right or wrong answer. If your answer is right, it will satisfy the differential equation, right? So guess what? V is equal to zero, satisfies this differential equation. I'm done. Alright, voltage is zero. That's a simple amp problem. Is that really that the solution? What's missing in the back? Exactly the initial voltage. Indeed, v is equal to zero is a valid solution. If your capacitor is not charged. If your capacitor is not charged, There's nothing happening, right? So we need to know what the capacitor was charged up to. So we say that that's the initial voltage we need to specify it. Let's say at time zero, we say that the capacitor is holding charge v zero. Now we need to solve this equation. So now we're like add that zero doesn't work out so well now. Because not only does our guests need to satisfy the differential equation, it also needs to satisfy the initial conditions. Okay? So this is called the initial condition. And we just say it's arbitrarily charged up to some voltage V zero at time t is equal to zero. How did we charge it up? Doesn't really matter. We could have hooked up a current source. We could have hooked up a voltage, right? Like, let's draw some different circuits we could have had, like a voltage source here. With some voltage v zero. We have a switch. And we basically charge this capacitor up to a voltage V. And then we open the switch. And then at that moment, we'll call that T is equal to zero. When we open the switch, we want to know what happens after that. Could have done the same thing with a current source. We could have had a current source, put a pulse of charge in it and then turn off. And then we want to know what happens after that. Okay? Well, there's many ways of solving simple differential equations. It's so simple, we can use separation of variables, um, but we can also guess a solution. And if you look at this equation, it's saying this function, V, whatever, it satisfies, whatever form it is. It should be a function where when you take it and you add it to its own derivative, times a constant, you get zero. In fact, that's, there's only one function that looks like its own derivative, right? And that's the exponential function. That's really the way to define an exponential function. So let's assume, let's take this equation. And let's just assume that V of T is some constant which we don't know. Another constant which we don't know. So it's an exponential function of time. Let's see, Let's see if this solution actually satisfies the equation. So let's just plug it in. Well, if we plug this in, we have k e to the tau t plus RC tau k e to the t tau. She, you know what? Since I called the Tao and let me just call it. This is bugging me. Let's just be consistent with units. Okay? So we plug this in and we get this equation. So r are constants, k and tau have to satisfy this equation. Well, unfortunately, this equation doesn't help us with k. Alright? We know k is not zero, right? Because if k is zero, then we get that trivial solution again. But we have about, we have an initial condition so we can't really say k is zero. So we can just divide out k. And this equation tells us nothing about k. The other thing we can say for certain is that e to the x is never zero, right? And so we can safely divide it out of this equation as well. So what we're left with is one plus RC tau is equal to zero. In other words, tau has to be equal to one over minus one over RC. So R times C, We can verify resistance times capacitance has units of time. So that works out. And so this is a characteristic time constant of the circuit. What we found as v of t is k e to the minus t over Tau, where Tau is equal to RC. Well, this still has to satisfy the initial condition. And that tells us that k is equal to v naught. And so we can say that the voltage on the capacitor as a function of time is there for this. This is the solution to that differential equation. If we plot this equation, this is time. This is the voltage on the capacitor. At time t is equal to zero. We have to be here. This is our initial condition, V0 zero. We don't know anything about what happened out here, right? Somehow charge was deposited on the capacitor. We're only concerned with what happens after time t is equal to zero. Well, we just plot this equation and it says, Yep, the voltage will decay exponentially with a characteristic time of tau. Does that make sense? Well, let's think about the characteristic time for a second. If the capacitor is really, really big, this equation is saying it's gonna take longer to discharge. That makes sense, right? The bigger the capacitor to the more charge it holds. The voltage that basically the charge that you're losing is going through the resistor. And that means that the bigger your capacitor, the longer time it should take. Likewise, the bigger the resistor, the less the current that you're drawing from the capacitor, and so the longer it should take. So again, using our analogy. So we have basically tank of water. And you can imagine that this is the resistance. It's the flow rate of the water. So the water is coming out and we're losing water, so the voltage level is dropping. So you can imagine if I make this tank bigger, right? I won't go through and redraw it and you guys all have good imagination. You can imagine it bigger. Obviously, if the flow rate is limited by that resistance, you charge it up to the same voltage level, the same water level, right? So I guess I will draw it just to be so I'm charging it up to the same voltage level, but the capacitance is bigger. So if I were to discharge it at the same rate, through the same resistance, clearly it should take longer. So tau is proportional to R times C. This makes sense and are also makes sense because r is really the flow rate coming out, right? This is, if you make the flow rate higher, let's say, right, then this more water is going to flow out, it's going to discharge faster. Bigger pipes, less resistance, right? Time constant goes down. So it all makes sense. And the fact that the equation is complicated, more complicated than that. You know, like the integration equation we got from a current source also makes sense because the rate of current flow is proportional to the voltage. And so as this voltage changes, if we go back to the derivation here, we can see that the rate of current depends on the water level and the resistance. But the water level is dropping, right? As it delivers current, the water level is dropping. And so these two things have to balance each other and we get this differential equation. Now, this differential equation, It's so simple, but it's really important. Pops up in a lot of places. It's one of the world's simplest differential equation. But probably half the problems you will encounter in life related to differential equations can be solved this quickly, in this easily. So it's a very useful differential equation. The other thing that I want to emphasize is set at many times is that the capacitor, it has memory. So what do we really mean by that? Well, let's imagine a resistive circuit. And let me hook it up to a signal. So here I'm going to plot i of t in blue. And let's say I of t does something like that. Okay? And now let's look at V of T across this resistor. What is V of t going to do? Well, when the current is positive, the voltage is going to be positive. When the current goes to zero, the voltage goes to zero. Again. The voltage goes positive. Maybe I'll even make it just to make it a little more interesting here, we'll say that the voltage goes to a higher level now. And so now the get something like this. So this is v of t. This circuit has no memory. The output voltage, v of t, just depends on the instantaneous value of the input signal, right? I of t, if it doesn't remember the past values of I of t, the current value is only dependent on the current value of the input. It's a question in the back. You've got to speak up. Sorry. I heard you say tau is minus RC. Yep. Because I put the I took the minus sign out. Yeah, you're right. I mean, if, if tau is minus RC, But because I like to think of positive time and not negative time, I explicitly put minus sign here. So let me call this tau prime. Oh, you're talking about that. This is a typo, right? Let's see. This is one over tau. Thank you very much. You are absolutely right. Again, I'm going to blame my cat. Alright, you're awake. I am not. This is the problem when you know the right answer, you just write it down without thinking. Okay? Thanks for that correction. So that means that here tau is RC. Okay? And then I'll call this tau prime. I'll take the minus sign away, and then I'll just call it tau and we'll be happy. Okay, so this resistive circuit we're saying has no memory. Another way to say this is that, well, let's just call it memory for now. Now let's compare and contrast that with the capacitive circuit, right? When we put this R and C here, we still haven't solved this problem. So let me not put the R here. We'd need to solve this problem first both, but we know how to solve this problem. This problem is really easy. If I were to plot, let's say in a different color, the voltage on the capacitor as a function of time. Then I know that it's going to increase linearly. And then it's going to stay here. And then it's going to increase again. And then it's going to stay at this high level. Notice that the capacitor voltage, it has memory. It stores information about the past. So if I wanna know what the future values of the capacitor voltage are, I need to know not only the current value of the input, I need to know the past values of the input, right? So a resistive circuit is like somebody who doesn't save any money at any given time. You say, well, how much money do you have? And they look in their pocket and they say I have five bucks, that's it, right? And I'm going to spend it right away. Capacitor is like a bank. It stores money and it's there, and you can withdraw it. So now you can kind of get the sense that we're talking about this circuit. Not so much as just the circuit, but as a system. It's a system that has memory. There are inputs, right? So the circuit that we just drew, I'm calling this the output voltage of the circuit. At this point, I haven't hooked up any voltage sources to it. But in general, I'd like to also understand what happens when I connect a source voltage here. I'll call this IS of t. So this is my input. This is my output. And this is my circuit. This is my system. I want to know what are the properties of the system. Does it have memory? If it has capacitors? Yes, it has memory if it has inductors, yes, it has memory. We'll talk about inductors next week. If it's a purely resistive circuit, there is no memory. Okay. Is this system linear? Yes, the differential equations that we just derived or linear differential equations, we could show that it satisfies linearity, and we'll do that in a minute. So we can start to ask questions, more general questions which pertain not to just to this particular circuit, but to any RC circuit or any RLC circuit or any circuit in general as we'll go forward. Okay, So let's come back to this equation now and introduce inputs. So let's, let's go back to this equation. Let's do another one. Let's do this. Let's do this circuit. This is a very popular circuit. This is my input signal. Now I'll call it V S, and I'll call this V out. And we want to find, let's say the solution of this circuit. Again, we set up a differential equation. In this case, if I go around this loop, I can write a KVL equation which says that the source voltage is equal to the voltage drop across VR plus the voltage on the capacitor, which we're calling v-out. Okay, well the source voltage is known. But these two voltages are not known. So I have two unknowns here, but they're pretty easy to connect to each other and turn it into one unknown because I know that the current in a capacitor depends on C, d v, d t. And so therefore the resistance voltage drop is just I times r, which gives me r c d v d t. So this equation, this differential equation is a little bit different from what we had before. It has a term with a derivative and it has a term without the derivative, just like before. So everything looks the same except there is a left-hand side or right-hand side. There is a source, there is an input to it. Before it was zero. When the equation has no inputs, we call that a homogeneous differential equation. Homogeneous equation. Sometimes a solution to that is called the natural response because it's how the circuit responds even without external stimulus, stimuli, right? It just, if you have a system and you put it in a certain state, you charge up the capacitor, you leave it alone. It will discharge with a characteristic time constant, RC. And that's a property of the circuit. It has nothing to do with the stimulus, right? There's no stimulus that we're just leaving it alone and letting it do its thing. So that's called the natural response. It's the solution to the homogeneous equation. The force response, or sometimes called a particular solution, is the response of the circuit when you drive it with some stimulus. Vs could be a DC input. It could be a step input, meaning that it's zero at one point and then it steps up to another voltage. Could be a pulse, so it could be a data pulse stream right, coming from a computer. It can be a tone, right? From a piano. It can be someone's voice with a bunch of different tones added together, right? We'd like to understand how does this circuit behave to those arbitrary inputs. So that's a very different problem than the homogeneous problem. So the first thing to note here is that our equation is linear. So let's, let's look at our equation here. So VS is RC, I'll just call that tau, like before, d v, d t plus v out. And let's say that we find a solution V1 that satisfies this equation. Let's start out with a homogeneous equation. Let's say I satisfy, I'll call this psi one. I find a solution, psi one that also satisfies the boundary condition C1. Then I find another solution. Let's call it psi two. And it also satisfies the boundary condition. Well, note that if I take any linear superposition of C1 and C2, because this equation is linear, the derivative operator is linear. If I apply this new superposition in f zero is tau d Psi one, C1, C1 plus C2, C2 plus C1, C1 plus C2, C2. I can write that as tau d psi one, d t plus psi one all times c1. And likewise tau d psi two times C2. And of course this is zero and this is zero. Which means a linear combination of solutions is also a solution. Okay? So linear superposition applies, and that can be very useful for linear systems as we'll see. The other thing that we can show is that in this particular case, it's very easy to show that our solution for the homogeneous equation is unique. Because if we go back and say, look, I have two solutions to the homogeneous equation. They both satisfy the differential equation. They must also therefore satisfy the boundary condition. So let's, let's suppose, let's take a solution, I'll call it the different solution. Let's take the difference between psi1, psi2. By superposition, it also satisfies the differential equation, right? So our differential equation is tau d psi difference. D t plus psi difference is equal to zero. And it's pretty easy to, we know already that this satisfies the same differential equation by superposition. What about the boundary condition? Well, psi one inside to both satisfy the same boundary condition as they must because they're both solutions to this differential equation. The difference satisfies the boundary conditions. Zero, right? Psi one of zero minus I2 of zero is zero. Which tells me that this difference, the superposition satisfies a different boundary condition, which is the zero boundary condition. Well, we know what the solutions are. Zero boundary condition is right? That was our favorite solution. The trivial solution, psi diff is trivially zero, which tells us that c1 is equal to psi two. In other words, the solution is unique. Okay, so now let's go back and solve our problem. Same problem with some arbitrary input. In other words, what we want to do, I guess made me take a step back here and say that, look, the general solution is the homogeneous solution. Plus let's call it the particular solution. And you can basically show that this is true for our case really easily because we're basically tau times psi dot plus psi is equal to the inputs. I'll call that. Let me just use the same notation. Recall these voltages so you don't get confused. So I have VS is equal to tau d v, d t plus v. And if I say that v is equal to v plus v p, then by linearity, I have my homogeneous solution. And I have my particular solution here. But the homogeneous solution by definition is equal to zero. Which means that this, scroll this up a little bit. The homogeneous solution is zero by definition. And so anytime you have a solution of this differential equation, you can always, for a particular input, you can always add the homogeneous solution onto it and you still satisfy the differential equation. And this is a good thing because the homogeneous solution is going to help you satisfy your initial conditions. So one way to think about the circuit as a system is that even when you excite it with an input, you're going to see not only the response to your input, but you're also going to see the natural response of a system. That's why the homogeneous solution is called the natural response. Let me give you a very familiar example. Take a hammer and hit a belt. Your hammers the input, right? The bell is the system. The bell rings, right? Very loud. Hurts, right? Does that ringing have anything to do with your input? Is the frequency of the ringing related to the hammer. Use a big hammer or a little hammer. Know, you could do this experiment, of course, and you'll find out that it really doesn't even matter how I hit it. I can take a kid and hit it and record the frequency, right? Could take a big, strong man with big muscles and he'll go by. The same frequency will come out because that's the natural response of the belt. This circuit has a characteristic time constant, RC. If you initialize it, it'll decay with a characteristic time constant. Rc. Doesn't matter what the input is. That natural response is always going to be there. So anytime we find a particular solution, we also have to add the homogeneous solution or the natural response to take care of the fact that the system itself has some natural tendencies that we have to deal with. Okay, so going back to the circuit here, I'm interested in this output voltage. And we need to basically solve this differential equation. So again, we could do, we could solve this differential equation different ways. This has been really bad notation. So let me fix my terrible notation here. This is the source voltage. So on the right-hand side, I have the voltage that I'm trying to solve for. On the left-hand side, I have the source voltage of the exitation. I already know the homogeneous solution. Homogeneous solution call it vh is k e to the minus t over Tau. So now I'm interested in the particular solution. In this particular case, I can take advantage of something that some of you may have noticed, which is, as you might remember from your calculus courses, if I have two functions which are being multiplied and I take a derivative, I can use the product rule, which has uv prime plus v u prime. Notice that I can integrate the thing on the left-hand side. It just gives me u, v plus a constant. So if I can make my right-hand side look like that left-hand side, I'm done. I can solve this differential equation. With, with a simple integration. And you'll notice that it more or less looks like that, right? Here's v and here's the derivative of v. So what do I need to multiply? You know what? How can I make this look like? This? Well, there is a method that you may have learned about called the integrating factor method. We don't even have to use it. We can just kind of guess. We can say, well, let me assume that the solution looks like this. Let me call it. Let me multiply this equation here by e to the st. Okay? Now I have tau e to the st, d v d t plus v e to the st. Notice that if I take v e to the st and take the derivative, I get v prime e to the st plus one over S, V e to the st, or just S. So this almost has the right form over here. Let me factor out my tau. Have e to the st v prime plus one over tau V e to the st. So if S is equal to one over tau, then this thing on the bottom is simply equal to tau e to the st times v prime. So I've reduced my right-hand side. So let me copy this over here. So I have e to the st v S of t. That's the source voltage, that's my left-hand side over here. And then from my right-hand side I have tau. And then I have e to the st times V. V is what I'm trying to find. But now I have the derivative. If I integrate both sides, I get e to the st v of t plus a constant. Okay? So this is an indefinite integral. And notice that now I have v isolated. So I can solve for V of t. V of t is one over tau e to the minus st integral either the S T V S of t d t plus k e to the minus S, where S is equal to one over tau. Notice that this integration actually gave me my homogeneous solution as well. Write the right-hand side. The very right-hand term is the homogeneous solution. This is the interesting part. This is how the circuit response to my input. If I give it an input, it's doing this integration. That's what the system is doing. It's multiplying my input times this exponential function, integrating it and spitting, spitting out something else. So it's not quite as simple as a current source driving the capacitor, but it's something similar. Notice that the output is not an instantaneous function of the input. It depends on the past values of the input, right? So when I perform this integral here, this integral, if I'm interested in a particular value of time. Just so I don't confuse you guys. Let me change my dummy variable of integration from t to x. And let's say I'm interested in what happens at some time t. So if I take this indefinite integral and integrate from minus infinity up to time t, I know what the output voltage is. The output voltage at time t depends on the voltage, the input voltage source at time t plus the past values. Why the past values? Because I'm integrating over x. X is a time variable. Now I'm integrating from the past the most furthest pass value, really that Laurel integration limits should be the Big Bang, right? The beginning of the universe. Up until now, everything that happened in the universe matters as far as this circuit is concerned. Yeah. Oh yeah, this was just math over here, right? We basically, I wanted this equation to look like this equation. And then I realized that S has to equal to one over tau. Okay? Alright, so this is a really interesting solution. It's a complete solution. It has a homogeneous part and a particular solution which depends on the input. Let's, let's try to use this solution and see what we get. For instance, let me imagine that I have a circuit now that looks like this. So this is V S. It's just a DC voltage. Not very interesting. But what makes it interesting is I'm going to basically either turn on this switch or turn off the switch. Let's do the off. One. Could do the online as well. I'm going to say that at some time t is equal to zero. I turn the switch on or off. Actually, let's do the online because we kind of did the offline already. Implicitly that was a homogeneous solution. So let's say at time t is equal to zero, I turn on the switch. And let's say that before that, the capacitor voltage V, which is our output voltage, is initially discharged because remember, capacitors have memory, it's very important to state what they remember. In this case, we've, we've zeroed it out, doesn't remember anything, right? Zero. And we want to find the solution. But we know the solution. All I have to do is copy and paste this over here and do a simple integral, and I'm done. We all do it over here. Okay? So let's say, first of all, Let's focus on the particular solution. The particular solution is one over tau e to the minus st integral from minus infinity to t, e to the x. And the f of x times dx. Well, we know that this is zero. The voltage there is no excitation up until time t is equal to zero, right? The circuit is discharged. There's no excitation. So this is zero. So we can replace the lower limit of integration to zero. Then at time t greater than zero, this just goes to a constant. What do we call it? We called it the S. And so it's, it's a constant, it just comes out. Well, we know what this is. If you integrate e to the x, you get e to the x back with a little one over S here. The one over S cancels out, the one over t, e to the x cancels out or becomes t, right? Because we integrate from zero to t cancels out over here. And look all that hard work. And what's the result? Something maybe we should have just guessed, right? She could have said, okay, you know what? Let me go back to my circuit and say, if I drive it with a DC input, What's the solution going to be? Well, the solution is going to have two parts. One part is going to be that's natural response. Guess what? I killed the natural response. How do I kill the natural response? I killed the natural response. Well, let me write the complete solution and convince you that there is no natural response. The complete solution is the particular solution plus the natural response. But we're saying that this has to equal to zero at time zero. So then I can solve for k. So k is minus V s. And so the complete solution here is again V S plus k e to the minus t over Tau. We just found out that k is minus VS. And so this is the complete solution. Let's plot this. Okay, from time t is equal to zero. Well, at time t is equal to zero. We have one minus one is zero. So it starts out here. That makes sense. That is our initial condition. We told, we said the capacitor is initially discharged. Then as time goes on, basically this term, let me plot this term over here in blue. This term is decaying to zero, which means that one minus this term is doing this. So our circuit is asymptotically approaching the S. It's charging up to the voltage VS. If we go back and look at the circuit, we have to, whenever you solve a circuit problem, you have to remember this is not a math class, this is a circuit, this is a system I need to go back and say, does this solution makes sense? Looking at this circuit and you can see that once you close the switch, charge can flow from the battery to the capacitor, but it can't flow instantaneously because there's a resistor that limits the current. Initially, the rate of current flow is very high. At the very beginning. The current that flows in is V over R because the capacitor is discharged. But as the voltage on the capacitor goes up, the voltage across the resistor goes down. And so the current rate decreases. And that's why though, initially it started charging up really fast, right? If we think about the charging up, initially, it's charging up really fast, but then it's slowing down. Why is it slowing down? Because as the capacitor voltage gets higher and higher, the current into it gets smaller and smaller. And that's why it never really approaches the battery voltage, right? Because if it approaches the battery voltage, the current goes to zero. So in essence, it can't approach the battery voltage. It's just going to constantly charge, but it's gonna get extremely close to the battery voltage, right? For all practical purposes, we can say that within a few time constants, it is going to charge up to the battery voltage. Okay, that's it for today's lecture. I'll see you guys next week.
