Okay. Good morning. Thanks for making it to class on a rainy day. So we're almost done with this part of the course, which is mostly on circuits and kind of continuous time systems. I'm going to wrap up today's lecture by going through filters and Bodie plots. I think most of you have been exposed to this material through discussion section, somebody who started the homework. So we can go a little bit faster. And if I'm going too fast to slow me down. So we've talked a lot about transfer functions and the half poles and zeros. And the poles and zeros pretty much determine the behavior of circuits, their steady-state response. So if you apply an input and you wait a long time and you look for the steady-state response. It's completely determined by the transfer function, right? Which is some function of H of H of j Omega. And then we found that for all the circuits that we've been studying, these linear circuits with time-invariant elements, in other words, resistors and capacitors that don't change in time, and inductors that are all constant. We found the transfer function always has a particular form of enumerator. Polynomial divided by a denominator polynomial, both polynomials in j Omega. And we can always factor that into roots and have roots on the numerator. We call those zeros and roots on the denominator, which we call poll. So that's all stuff that we've talked about before. You've seen many examples of transfer functions. For instance, let's look at a particular transfer function here. Did a little bit of charge on my pencil. So let's look at a low pass transfer function. You've seen an example of RC low-pass. We'll do a little bit differently. We're gonna do, instead of a series, we're gonna do a shunt, a low-pass filter. And you guys should become familiar with this concept of duality. It's very convenient. Duality says that if I have any circuit composed of inductors, resistors, capacitors, and voltage sources in series. What happens if I flip the roles of INV around? In other words, I becomes V, r becomes G, right? Resistors become conductors because we flipped the V and I are round. If you think about it, inductors and capacitors are also kind of complimentary to each other and they have this duality principle. If you switch the voltage and current around for an inductor, it looks like a capacitor. Capacitors become inductors. Series voltages add shunt currents at. So things that are connected in series become shunt connected. So what this concept of duality lets you map any circuit from one voltage current domain to another current voltage domain. And the transfer function essentially remains the same. So let's see an example of that. Let's take a low-pass filter with a voltage source and translate it into a dual circuit. Voltage becomes a current. So this is the source. Series elements become shunt elements. Resistors become conductors. In other words, resistors don't really change, they just go in shunt. And if we were doing the complete dual circuit than this capacitor would become an inductor. So let's see what happens to the transfer function when we do that. This is the dual circuit. Well, right away you can see the transfer functions also going to change because here, if we just let omega go to infinity, the capacitor becomes an open circuit. And excuse me, short-circuit. And the signal is getting shorted out. So if we take the output across the capacitor, this is our output voltage. If we look at the output voltage across this capacitor, then it's essentially getting shorted out. On the other hand, if we look at the current through this inductor, if we define this as our output variable, then it really high frequencies. The inductor becomes an open circuit and most of the current goes through the conductor. So you can see that the transfer function is kind of similar behavior in frequency. So let, let's derive that transfer function. So I'll redraw the circuit. Of course, I can change the order of elements here. It doesn't really matter. And I'm interested in I out here. So i out is the conductance of an inductor, which is one over j Omega L versus Gee, it's a current divider. So H of j Omega is 1/1 plus J omega L G. So you can see that this is kind of like RC and must have units of time. And that represents the pole of our transfer function. This transfer function is also low-pass, but, and it has one pole. And if we were to look at the magnitude of this transfer function, we know that for complex numbers, if you have a over b, That's equivalent to taking the magnitude of the numerator divided by the denominator. Likewise, if you take the phase of a over b, that's equal to the phase of the numerator minus the phase of the denominator. So this is for complex numbers. And you can prove this with a few lines of algebra. And most of you are familiar with this by now anyway. So here the magnitude of the numerator, of course is just one. The magnitude of the denominator is real part squared plus imaginary part squared square root. And you guys have seen the plots of this several times. Now. We could say that the plot is essentially if we were to plot. This on a log scale. We would say that the plot basically is essentially flat until you hit this frequency, one over L G. We'll call this the poll. And then this drops with a slope of basically one. Why is it a slope of one? Well, at high frequencies, we have square root of one plus omega squared over omega p squared, which is roughly equal if we take the limit as omega gets large. This just looks like square root of omega over omega p squared, which just goes like omega over omega p. And so that's why we get a slope of minus one here. Okay? So any questions about this plot? Yeah. Yeah, So why one over j Omega L? So this is, we know that the impedance, you know, forget this duality stuff. This is just to, kinda cool to notice forget duality. Let's just say I asked you to analyze this circuit. Remember for a current divider, I out over IS, I could have written this as y l divided by Y L plus G. Or equivalently, I could have written this as R over R plus j Omega L. So it's just the classic current divider equation. And let's also quickly look at the phase of this response. So if I have a transfer function H of j Omega, which is 1/1 plus j Omega over some poll. If I take the phase response to this, I think most of you have seen this. This is the phase of the numerator divided by the phase of the denominator. Of course, the phase of numerator is zero. So we just get the phase of the denominator, which is arctan imaginary part over the real part. So if we were to plot this phase versus frequency, the phase starts out at zero and then it transitions to -90 degrees. And at the frequency omega p, It's exactly -45 degrees, right? Kind of a perfect triangle. One-one hypotenuse square root of two. So in these plots, we've defined this idea of a cutoff frequency. And there's, you know, you're going to encounter this a lot when you study engineering is similar terms often applied to the same concept. So this is also the poll. And sometimes people will call this the minus three dB frequency. So what the heck does that mean? Well, the idea of minus three dB frequency is that if you really just plotted this transfer function, I kinda just said, Oh, it's flat zero dB over here, and then it drops to -20 dB per decade. That's if we put a factor of 20 here, which we explained last time comes from some, you know, basically people didn't like fractional numbers, so they multiply it by ten. That's called the decibel deci, meaning ten Bell named in honor of person who invented phones. And then the 20th, the two-factor making the 1020 comes from power. So if you're interested in power, then you would say the power is like voltage squared or current squared, so its transfer function squared. So you get this factor of two. You can just think of it as Convention. There's nothing special about 20. We could have made it as 50. And if somehow the number 50 were magical, we'd all have a different scale. So don't, don't worry too much about why it's 20, why it's not. So the question is what happens at this frequency omega p? Now if we make a piecewise linear approximation, we could say that this region, the curve is flat. This region it has this slope of -20 dB per decade. But right at this point, if we look more carefully at the transfer function, we can see that, right at that point, omega is equal to omega p. So if we plug in omega p here, this just becomes one. So the transfer function becomes one over square root of two. So this value here shouldn't be zero dB, it should be 20 log of one over square root of two, which is equal to -20 log of root two. And you can take the factor out and say then it's minus ten log of two. And this actually works out to not exactly three dB, but roughly three dB. So this transfer function at this frequency omega p is dropping by three dB from the DC value. Hence the term three dB frequency. A very common you'll hear people say, well, what's the three db frequency? Okay. Any questions? Cool. I think you've seen this mostly. So we've seen low-pass. High-pass is the dual of a low-pass. Let's take that same example and just think of it a little bit differently. So we had this inductor and resistor and a current source. And we looked at the transfer function as, instead of looking at the output current, what have we looked at the output voltage? We want to find h, which is defined as V out over IS, which has units of impedance. Well again, let's just think about high-frequency. At high frequencies, the inductor is an open circuit. So the current source sees a resistor. So we have transfer at high frequencies. At low frequencies, the inductor is a short circuit. It's shorts out. The output, it's steals all the current from the current source and the output would be zero. We can guess without doing any math, that this should be a high-pass transfer function. High frequencies get through. Well, let's do the math. The math here is just easy because it's just the impedance looking into here. And the impedance is a parallel combination of R And the impedance of L. It's R j omega L divided by R plus j Omega L. Let's divide through by r. We get transfer function j Omega L one plus j Omega over Omega p will go again, same frequency, we'll call it omega p. So this transfer function is a little different than the one that we just looked at. Let's actually write this a little bit differently. I'm going to multiply and divide by R. So this numerator becomes j omega over omega p. And now I have both a pole and a zero. Except the pole and zero or at different frequencies, right? The poll happens at the same frequency omega p that we just studied. The zero is at DC, which is saying that DC frequencies basically don't make it through this transfer function, which because of the inductor, the inductor shorts out the current. No signal gets to the output. So that makes sense, right? Sanity check makes sense. Well, how do we plot this? If we were going to make one of these Bodie plots again, my Bodie plot is just a plot of 20 log of the transfer function on a log scale. So let's take the magnitude here. We already know what the denominator is doing, right? The denominator is the same as what we had before. So here we have 20 log of r, that's the first term. Then we have 20 log of j Omega over Omega p, because of course, the magnitude of an imaginary number is just the number, right? And we already have seen the denominator. Okay? So the key to doing Bodie plots is always to look at each term separately and then build the transfer function by summing everything together. So we can see that there's a term here, 20 log of r is just a constant term, right? If R were 10 ω, this would be 20 dB, right? So that's this term. That's easy. This term where we already know what it does. This term, let's say this is ten dB just to make the numbers concrete. So we'll call this zero dB. The second term here, I'll use a different color. Is doing that. This is this term. It's going up to a frequency omega p guide. If this is a log scale than I wouldn't write log of Omega, I would just label this as omega p, But then I would have log spacings. But up until here we say at zero dB or minus three dB, right? There's the minus three dB point. It actually drops. And then it goes to a slope of -20 dB per decade. Okay, Everybody see that. Okay, what about this term? Well, this term, It's just write this log of omega is just the slope of one, the log of omega term multiplied by 20 plus 20 dB per decade. So all we need to figure out. So basically it's a straight line like that. But we just need to figure out where it intersects the origin. Well, at a frequency of omega p, log of one is zero. So at omega p, This goes to zero dB. Use a different color. So this is 20 log of omega over omega p. And now all I need to do is sum these three things together. Right? So let me sum them together over here. So it's a little bit less messy. Messy. Okay? So notice that since this term, so here we have zero dB coming from here that doesn't contribute anything. And then here we have a very small number. So this, if we sum these three components, you can see that this one is going to dominate top one. But here's the key observation is at this frequency, these two contributions cancel each other out, right? So this plus 20 dB per decade exactly cancels out this -20 dB per decade. And so here we could say that the response after here is just going to be due to this. I'll draw a thick line here due to this constant term. Over here. We could say that once we get to this point, This doesn't contribute anything. It's just this minus this. So it's basically this curve shifted up by that value of r. So that is the overall transfer function. It's basically going towards zero as we approach zero frequency, but there's a log scale, so it never gets there right. After you hit omega p. Sorry, it's so the transfer function is increasing up until omega p and then it goes flat. We call this a high-pass filter. Because low frequencies are attenuated. Why do I say attenuated? Because we're getting multiplied by a number less than zero dB, right? Numbers, negative, negative numbers here means attenuation. So let, let's just pick a point. Let's pick this frequency. So at this frequency, the transfer function is minus ten dB. Since this is roughly going at 20 dB per decade. That means that this must be at a frequency of roughly omega p over ten. You'll notice that actually let me label this a little bit better. So it actually crosses here, not there. This, let's call that minus ten dB. And you'll notice that there's a 20 dB drop. Ten plus ten dB drop in the transfer function. Ten brings us to zero and other ten brings us to minus ten. Then I'm asking you, what is the frequency where that happens? Well, if the slope is really 20 dB per decade, right? What do I mean by 20 dB per decade? That means every factor of ten increase in frequency, this quantity changes by 20 dB, either plus or minus. In this case, it's increasing as you increase the frequency. So if you decrease frequency of drops, so dropping by a factor of ten, That's a decade. That means that we dropped 20 dB. Okay, so you'll hear this terminology a lot, 20 dB per decade. What does that mean? Well now you know, so that's at a frequency of one tenth the pole frequency. So the frequency of one tenth the pole frequency, the transfer function is minus ten dB. Minus ten dB means that it's getting multiplied by what? Well, you could work out the math, right? You could say, well, 20 dB is a factor of ten, right? So ten dB is roughly square root of ten, right? So that's roughly. A third, so that the signal is getting attenuated by third. In terms of power, it actually is getting minus ten dB means it's actually ten dB less power. So if this were like an audio signal, something like you guys are going to see in the lab. Then this frequency going through this filter is going to be ten times less power than the frequencies above. Let's say right at omega p. That's why we say it's attenuated because the transfer function is negative. Any questions? So basically the way that you generate these Bodie plots, as we've seen, is you break the transfer function up and it's always going to have low-pass terms or high-pass terms or both. As we just saw. It can also have terms that go like J omega. We call those differential terms differentiating terms. Why? Where does that term come from? Because if my transfer function, let's say is H of j Omega L, Then this is just an inductor, right? So if we have basically an inductor, we know the transfer function V is LDIDT. If we translate this into harmonic steady-state, this just becomes j Omega L. So we say the transfer function is a differentiator. And the Bodie plot simply looks like that. This is the frequency where zero dB occurs. Likewise, an integrator is just a capacitor. We know that if you dump charge onto a capacitor, then the voltage is one over j Omega C IS. So the transfer function is exactly the same, except it goes at -20 dB per decade. Here it goes at plus 20 dB per decade. Okay? So this is an integrator. This is a differentiator. And the general transfer function really is some, basically you can synthesize a general transfer function and decompose it into all these terms. So we can say it has dc gain times a product of zeros. Okay? So this is a product symbol. And let's say we have n zeros and NP poles. And then these are our pulse. And this transfer function, right? When you take the magnitude, you get the basically 20 log of magnitude of this. We get 20 log of the DC gain. Plot a sum over zeros of 20 log of one plus omega over omega squared square root minus a sum. This is k over the poles, 20 log of one plus omega over omega p k. And basically you know how to treat each term here, right? These terms go like plus 20 dB per decade. These terms go like -20 dB per decade. And this is just a constant. And notice that you have poles and zeros at zero as well, right? So those differentiator terms, the only difference is they don't have this number one here, right? And the integrator terms don't have this number one. So to determine where they cross, know, basically, you have to figure out where, because any transfer function that is 20 dB per decade rise just a straight line. So you need to figure out, for instance, if I give you an integrator, you know, the transfer function looks like that. But does it look like that or that? Well, that determined what determines that is. You can always say, Where does it cross zero dB? Will it crosses zero dB at some frequency, omega p, sometimes called the unity gain frequency, because now at omega p it's not going to 3D B, it's going to unity. Okay? So at this frequency, omega p or omega u, I'll just call it omega you Just so we distinguish it from omega p. This thing had zero dB. We could do the same thing for the differentiator term. It also at the frequency omega, you would hit zero dB. Okay, Now, what about the phase of these integrators and differentiator as well. For differentiator, it's kinda clear the phase is always 90 degrees, so it's really easy. It's just a flatline plus 90 degrees. And of course, for an integrator, the phase response is also really easy. It's just -90 degrees. And to synthesize the general magnitude response we've already seen, we just sum up those lowpass. So basically, the magnitude response at the end of the day equals sum, sum over, let's call it integrator terms with a minus sign, just to remind you, integrators on denominator. So it contributes minus. Then we have differentiator terms. And then we have high-pass terms. That a plus and we have low-pass terms. Maybe I shouldn't call these low-pass, high-pass and low-pass because that's kind of misleading. I'll just call these zeros and poles because we saw that the high-pass transfer function requires a zero and a pole to occur at the same frequency. So that's the magnitude transfer function. And the phase transfer function is a little trickier, but we can see it's, let's say n zero times 90 degrees. This, this isn't the zeros minus the poles times 90 degrees. It's the difference between the poles and zeros determines the constant phase shift. This, okay, let me not call the zeros, let me call this differentiators and integrators. So each differential, if like if you have j Omega to the n differentiator power, each term contributes 90 degrees, so we get multiple of those. And then we get terms that look like this. We get arctangent omega over omega z minus arc-tangent omega over omega p. And we can put sums here. Now we sum over the number of zeros and the number of pulse. Okay? And again, to do this phase plot, we do the same thing that we did with our transfer function for the Bodie plot, the phase plot. Let's take our example again. Our example was j Omega over Omega p one plus j over omega p. Well here we see that the numerator term in the form of a differentiator, so that contributes plus 90 degrees phase shift. The denominator we can see is in the form of a pore, which at frequency omega p will contribute exactly -45 degrees phase shift. And asymptotically it will contribute -90 degrees phase shift. Let me make this plot a little bit better. So let's call this plus 90 down here. So let me plot now the second term, which is this poll, while the pole, basically it needs to end up here at 90 degrees, it has to start off at zero degrees -90 degrees, I should say. And the question is what happens? Well, we know what happens exactly at this frequency. At this frequency, we saw it was exactly 45 degrees. So the question is, what is this slope? Arc tangent function really doesn't look like a straight line. And so we have to make some, this is just an approximate plot and I'll explain that in a minute why we do these plots to begin with. Well, the rule of thumb that you should use is that the face starts to increase at one-tenth of the pole frequency or the zero frequency if you're looking at the numerator and it just stopped decreasing at ten times that frequency. So if you look at the real transfer function, it looks something like that. It's a smooth curve. So we're approximating it, it's gonna be exactly correct at the pole frequency. It's gonna be roughly correct at these one-tenth and ten times frequencies. Summing these two things together, of course, just results in a shift up. So here -90 would become zero. So this transfer function, we'll just do something like this. It'll go like that, like that. And like that starts out at 90 degrees now. And this is the, I'll draw this in a nice bold color. So you can see that the face pattern, so that's the phase transfer function. Okay? Any questions? Alright, let me end this by just explaining why we do Bodie plots. Because I remember even when I was a student, I was like, well, I have a computer, can make a perfect plot of this. Why am I learning this hand-drawn technique? But over my career, I've used hand-drawn back of the envelope, really back of the envelope plots to understand how complicated things work. So it's very convenient when you're looking at a complicated circuit, especially when you want to control that circuit. And this is pretty much the next module of this course, are going to start learning about control. When you thinking about control, it turns out that this magnitude and phase response is super important. If the phase does something funny, the controller won't work. So you often will find yourself sitting down at a coffee shop making these plots by hand and trying to understand things. And it's much better to do this by hand. It'll give you much better intuition than plotting it on a computer. So these body plots are actually useful, even though you could say that you don't really need them anymore. Okay, I'm gonna stop there. Any last questions on Bodie plots? You guys have seen him now you've seen him in discussions? Yes. Yeah. The notes will be available if you guys have any questions. Okay. Yes. The different width of the face, the components, yeah. So the phase plot, again, all of these plots come down to kinda asymptotic behavior. So for the phase, let's say we're looking at something like with a zero in it. So I'm interested in the phase of this as zero transfer function. Well, this would be basically arctangent of omega over omega z imaginary part over the real part. And I know that the phase transfer function, if you actually were to plot it, right, the actual plot without a log scale looks like that, right? It's arc tangent function. Well, we're on a log scale. So actually, you never ever go to negative frequencies, are always at positive frequencies. And what we're saying is that we know the exact value at omega z. In this case it'll be plus 45 degrees. We know that asymptotically if Omega gets really large, this is a 90 degree phase shift and over here at zero degrees phase shift. And so all we need to do is find the slope. And basically, if you play around with different slope values to try to fit the actual transfer function, you'll find that the best one to use. If you're doing this kind of like straight line approximation is one-tenth the frequency and ten times the zero frequency or pole frequency if you use that rule of thumb and then draw the line between them, straight line between them, crossing the 45-degree line. That gives you a pretty good approximation of the actual shape. Alright. Yes. In the back. Yeah. So how do you determine if it's high-pass or low-pass? Well, you have to plot the transfer function. So if I plot the transfer function, let's say the magnitude plot again, in lot of times I won't write the 20 log, but it's kind of understood in context. So let's say the transfer function does something like this. Right here, we could say, Yeah, you hit a pole over here. Here, you hit a zero, right? Because it flattened out. You hit another poll, went down again. You hit another zero. And here you get another poll. Right? So what is this transfer function? Well, you can see even though it's not a simple first-order transfer function, it still has the character of a low-pass characteristic. Low frequencies are passing, let's say this is zero dB and high frequencies are getting attenuated. So any filter that has this property where there's a bandwidth that passes through, we call that whatever that bandwidth is. If the bandwidth is low frequency, we call it low-pass. If it's high-frequency, we call high-pass. If it's in the middle, we call IT band pass. So that's the terminology we use. Okay. Other questions? Okay. Alright. Stop there. You have a nice big iPad. Yeah. My pencil. Okay. It's changing of the guard on a wet, rainy day. So you've studied all about 16. There are supposedly three modules. I know that we use the word module kind of interchangeably. What I'm going to start today is what's called big module two. What is it about? The title should be robotics and control. Nominally. Caveat. I don't do control. So I'm going to undo the first time I'm teaching 16. I think Ali also is teaching it for the first time, but he's taught 16. And I haven't taught that either. So bear with me. We'll go for the right together. So the topics for today, I don't think I have as much time as I. This is for regular lecture. I'm only half the time. So we'll do an introduction to control as I see it. And the important thing the topic for today is discrete time and continuous time model convergence. So we've been studying continuous time through circuits. But you'll see that when it comes to control modules, because computers are going to do the control, you have to go to discrete time. And so you need to be able to convert. I know you guys have played with a two Ds and D2 A's and elaborate. So that should help. And I won't have time, but we'll do system identification as the next topic. Okay, here's the big picture view. So this is the view of the world control perspective. So your last quarter's control. So I wasn't sure how to define controls. I went to Wiki. So field of engineering and applied maths, dealing with the control of dynamical systems in machines and engineered processes. Wow, that's a mouthful. But that's what Vicki says. But more colloquially, or if informally. We're going to study the foundations of what would it take to learn about robotics and AI. But we're going to concentrate on the mathy part. So the course is going to get math here than it was earlier, not that there wasn't met earlier. And most important is please review your linear algebra that's going to be forming the core of what follows. So matrices and eigenvectors and you've gone through that, but there's gonna be a lot more. Okay? So if you go to your 16 reviews, make sure you review that. And I've heard the title of foundations of ML for a dynamical world by my colleague announced the high who teach men, he teaches the course, so that's how he views this part of 16 b. Okay, so here's a big picture. By the way, these are clippings I took from Professor our checks notes when he taught he is truly an artist. I cannot draw it like this. So I just steal him with his permission. I stole his notes and says, This is, this is how he writes. Anyway, so this is the analog world we live in. Okay, let's see if this works. So this is the world we live in. And there might be some physical quantity of interest you want to measure temperature, humidity, velocity, position. And that is done by a sensor. And the sensor outputs, typically voltages and currents, stuff that we've been learning about in 16 b. And that goes into this big block, which is the processing unit. What does that? It comprises analog circuits, computers, and algorithms. Okay. So a typical output, a typical pipeline, will involve first stage of filters. We just learned about filters by hand. Bypass, bandpass, highpass, lowpass. So you might have noise that you want to remove for your signal of interest. So that'll be done by the filters. And that is largely done in module one, which Professor nickname digest cupboard. The second module is that of inference. So we have it upside down. The second module is going to be covered last in the course, module three. And that is roughly the arena of doing classification regression for machine learning. Okay, So basically you want to infer the intent and we'll go through that one more in a few minutes. And the output of the inference will go to the Control Unit, which is the box of what should I do to do stuff. And that's exactly the output that goes into an actuate and actuators stuff is something that does stuff. And then it changes the action on which changes the state of the world. So this is a loop. It looks a bit abstract. But the key is that we're gonna be focusing on the processing part of the course. We've already covered the first module, filters, and we're gonna be covering control next and inference as the third part. So here are some examples of the control systems. This is another diagram on BMI. Bmi is brain machine interface, which some of my colleagues were working on in Berkeley. Actually it's a, it's a, it's a great research area. So here's this person whose brain as being probed, you have sensors on the brain. And the sensors are going to activate stuff that he wants to do and what has to happen if that he has a prosthetic arm and the control has to kind of move that arm according to what he wants to do. So these brain sensors are going to sense what is the intent of this person. It's pretty futuristic, right? But we're not that far away from what I understand. Of course, more classical modern things are aircraft control and automobile for your cruise. Cruise control in your car. These are all examples of closed loop systems. Okay? So in your, in your cruise control, you want to set your speed at a particular level limit. And if you go higher, you want to slow down. If you go lower, you want to speed up. Neither off parcel feedback control. So here's the brain machine interface example. It typically involves, again, module one, which is the filter. So here, here are the sensed signals from the brain called action potentials, which are filtered out using the techniques we just learned in module one. And then this module three will, based on the filtered de-noised signals coming from the brain, figure out what is this person trying to do? What is he trying to tell me, or he or she tried to tell me to do. And then this module is, once I know the intent, I'm going to actually do it. So the output of this is, I know e.g. that this person wants to move this block or stuff from a to b. That's the intent. And that is indicated to the actuator and which will then go and move it. And it might move the prosthetic arm to do that. That's an example of a BMI. Of course other examples, you guys know, cruise control and cars. We talked about temperature control for your thermostat. Where you turn the thing on or off, turn the boiler switch on or off based on whether you are below or above the target. And of course, reinforcement learning in AI, you might have heard of that. That is the foundations of that stuff we're going to study here. And robotics, you're gonna do a robot car in the lab. It's gonna be fun. Of course, our biological systems have lots of feedback or regulating the sugar in our system, e.g. or even when we sweat, when we exercise, cools the body down. Again, feedback control. Of course. If you can check out and there's a cool demo of the perseverance Mars rover that Professor anodic, when she taught and spring 21, has a nice demo in lecture 11 or 66. Lecture six B has a nice demo of landing the Mars rover on Mars, okay, where everything is new. Okay. So that's just the big picture view of what we are going to be doing. Control and interference blocks. And the Ansari inference blocks are algorithms that are designed, executed digitally in a computer. So. Now comes the stuff where we know the real world is analog. And, but computers. They used to be analog computers, but they're out-of-phase for awhile. And computers are done using discrete time and digital, right? So how do we connect these two worlds? So that's the first thing we want to learn. Now, your analog world is this continuous time waveform control world. It's the clock ticks off your computer. So what is the interface? So let me ask you guys. So if you have the signal and you want to make it into a discrete, what is the most natural way of doing it? Anyone? You have a signal, you have a continuous time signal. But I can't, I cannot deal with continuous time. I can only deal with increments of delta seconds. That delta is some number. Yeah. Yeah, that's called sampling. Your sample, the signal every Delta seconds. That's exactly what you do. So these are the delta seconds. So that's called the interface through sampling. So some terminology here. So this is my continuous time waveform, x of t. C is a subscript we are going to use for indicating continuous time. And D for discrete time. So I mean, where the context is clear, I may drop the subscripts because if you are going to predominantly be dealing with discrete time, we know that D is implied, but for the moment, let's be disciplined and do it. And here are my samples. Zero, delta two, delta three, delta four delta, and x d of zero. So another terminology is that we typically use round brackets for continuous time. And variables like T indicate variables, continuous time, and variables like k or I indicate discrete time and we will use box brackets. So this is the convention. But again, drawing boxes as kinda hard, I might get lazy and draw a round brackets instead of square brackets, but hopefully there's no confusion. Any questions so far? Okay. So again, sample I corresponds to CT is for continuous time system. Continuous time system time I delta, right? Pretty straightforward. The most natural way of, of, of, of, of taking discrete time is basically you take Polaroid shots every Delta seconds. Click, click, click, click, click, click, sample. Okay, So physics laws are going to the system that we are trying to control. As I said, it's typically driven by a physical object. As the laws of physics, e.g. Newton's law F equals MA. An example of a continuous time system. What about the other discrete or continuous time systems are stuff that we have just dealt with in the course. So this is, these are, if you recall, your vector differential equations that we covered a few lectures ago. Dxi dy t is a, is a matrix times x c of t plus BUC of t. So in the RLC world and the world, typically, the axes are the states of my RLC circuit. And what did we learn? That the current through the inductor and the voltage across the capacitors. These are typical states that we would capture. And what would you be, what would be the control signal before that circuit? Yeah, exactly the independent sources. So the independent sources or the control. And what you care about the voltage across the capacitors, the current across the inductors will be the state. Is that clear? It's very important that you get this true. As I said, x is the variable you care about. You know what? Why I need to, I need to control stuff that I care about. So as I mentioned, inductor current, capacitor voltages and so on. In other applications that could be positions, velocities, heights above, above the Earth's surface. In the Mars Rover, example, acceleration, et cetera. Control variables are things that we can actually control. The thrust power and aircraft control or the throttle power in cruise control. The independent voltage or current sources in the RLC circuits. Okay, so that's the big picture view of what we're gonna be doing. I just wanted to make sure we recognize that the state x of t and the control u of t, which are typically the input, need not be of the same dimension. You can have two voltage sources, independent voltage sources and pen capacitors, or vice versa. Conventionally, again, x of t is given n dimensions, so it's n by one and nu of t is m by one and n need not equal m. It could also. Okay, so that's sort of the overview part. We still have time, so let's get to it. So I am going to, so we're going to be using notes, then. I won't have slides. So we will be using notes. And I'm thinking, I'm still thinking whether I should use the iPad or use the board because I saw the class before me. I was watching the chemistry class and the board came out really well. I really liked the picture that you guys saw. The one negative of using the board, which is not a negative for me. But for some of you is that you won't have slides or notes because I'm writing on the board, but I don't know. Is that a big deal for you? If I write on the board? Now, today's class, I'm not going to, i'm, I'm I'm experimenting with it. Okay. We can see since you guys are quiet, that means I will take no, no response as okay. Okay, so, um, let's kind of look at the interface through sampling. So let's, we have already done the, this part, right? So okay, so this is the picture we will start with. And what you can recognize it is that x d of I is equal to X c of I delta. So I'm going to be disciplined about. And this is for I equals 01 and so on. That's just a map form. I'm just telling you what the samples are. So this is just saying that the height sample is exactly in discrete time, is exactly the delta value of the continuous time xc. And we have to draw vectors everywhere to remind ourselves that these are actually vector systems, but at some point will get lazy. So how is the question is, how about the input, which is the control part UC of t? How is that going to work? In other words, if you give me a continuous time waveform and I asked you for discrete, that's easy. You just take pictures every Delta seconds. That's my snapshots. But harder question is, I just give you samples. And now I tell you to construct a continuous time signal that goes through those samples. Now there are 1 billion choices, right? There's not one way, one way of doing it. So what should we do? Well, so let's kind of write this down. So this is my UD of zero, right? Ud of one, UD of two. And so on. And this is in discrete time clock ticks, right? So n, to indicate which clock ticket is, I want to convert this into something that is going to interpolate these points. Any suggestions on what we can do? What is the simplest thing we could do? Linear regression? What do you mean by that? Draw a line that goes through, Well, I want to make sure that I respect the discrete points that I have sampled, right? The I have I need to, whatever I do, I would like to go through these points. I want to make sure that the waveform, that the continuous time waveform respects the samples that I have. That Riemann sum integrals. Maybe. Yeah, exactly. Yeah, Maybe that's what you meant. That's what I had in mind when you said it. Just It's called the zero order hold, sample and hold or zero-order hold, which is exactly like saying, I'm going to take this and go that way. So this is now zero delta two, delta, three delta and so on. This is now time and this is UC of t. So I'm going to respect the fact that UD zero must be that value. Mu d of one must be that value. I mean, my picture is not perfect, but you get the idea, right? The easiest thing I can do is to just take the value and hold it to the next delta interval and then go to the next one. Keep holding it. So you have this. This is called zero order hold. It comes from the fact that the zeroeth order polynomial is a constant, right? So you want to keep it constant. So it's also called piecewise constant. I'll call it PC. And this thing is called a discrete to continuous block. It's also known as D12, used synonymously. So D to C is probably the more correct notation because it's going from discrete to continuous. But it's, because it's D to a and a to d are very popular. D to a is also fine analog for continuous. But typically when you go to analog, discrete analog usually taken bit. So one thing I do want to mention is that we are not going to worry about quantisation aspects for this course. In other words, when I get this UD zero, since the computer is generating the samples, it's going to produce bits. So it's not going to produce a real valued UD zero. It can't be arbitrary precision. It might be eight bits, 16 bits, whatever. But we're gonna kind of shoved under the rug. Let's first get to the basics and then later we'll worry about this probably in other courses, but it's pretty straightforward. Okay, so let's write the equations that govern this. So you see of t is equal to u d of I for t between high Delta and a plus one delta. Right? That's my notation. Now. We can, I think the way I've drawn the picture, because I'm including the left end point. So again, this notation, I want you to make note of. So this is just a technicality, but you probably remember that from your calculus classes. What is the, what is the square bracket mean when you have an interval? It includes it, and open bracket means it doesn't include it. So in this example here, I'm including the left end. So I delta is included, but I plus one delta is not. But it could also, you can also use the convention the other way. But just wanted to make sure that you understand this is the notation. Okay? So this is the signal. Let's write this down. This is a zero-order hold equation. Okay? Now, let's now get to, let's understand the continuous to discrete time blocks. So this goes through, we call it D to a. And this is an a to D. So you want to make sure, and we know that x D of i comes out. So we have now a discrete time system. We are going to mimic the analog time system, which is the differential equation that we're trying to solve, right? So D2L comes out and this is my new C of t. And this goes into my differential equation. Dx c of t, d t equals a z of t plus BUC of t. Actually, let's call it AC and BC, just to be more redundant that the AC and BC are the parameters associated with a continuous time system. So, and this is going to interface to the a to D. And this is running at a clock rate of delta. And this is running at a clock rate of delta. Okay? So what does this picture mean? So this is a picture. So if you take this as a black box, right? If you take this thing as a black box, what are the inputs and outputs? The discrete-time. What is inside the black box? Inside the black box is my differential equation that my system is interested in. That's the dynamics of my system, right? So x of t is the state and it is evolving according to the continuous time differential equation. But computers don't understand continuous time. So I have to make life easy for them. So there's an equivalent discrete time, what called a difference equation or recursion equation. That is going to mimic the continuous time differential equation. Okay, so that's the big concept. So from end-to-end, this guy is going to be okay everywhere. I need arrows, okay? It's just annoying, but so x D of i plus one is equal to a sub d x d of I plus B sub d u d of I. So there is an equivalent discrete time recursion equation that is shown here. That is going to replace or take the role of the continuous time equation in the sense that the samples of the continuous time solution to z of T must satisfy. When I take a sample that I plus one Delta and Delta, they will look like this. But then you'll ask what are AD and BD compared to AC and BC of the original system, right? So AC and BC are what the system tells you. The dynamics are. But I have converted this into an equivalent discrete time system with a, d and b d playing the role of AC and BC and Delta. So how do, how do I connect these worlds? So let's first write down the fact that these are, Let's use another pen. These are recurrence relations that describe. How the system evolves from sample to sample. So the question is, how to find AD and BD corresponding to the discrete-time difference. This is also called a difference equation. Let me write that down. So this is called so how to find AD and BD given ac, bc and the chosen sampling interval delta. Of course, we know that in order to be able to be more accurate and accurately represent an arbitrary control signal u c of t, we would need delta to be very tiny. But you're, you have time constants in your circuits that's going to limit how small delta can be. You cannot make delta zero, right? You can make it close, but then it's also going to be expensive and power, power hungry and so on. But for this part, we will assume that we're going to hold the signal for Delta period of time and then change the sample. And what is the control system going to do? The control system is going to take as inputs the states and spit out the controls. So x d of zero comes in, and then you d of zero comes out, which is going to induce x d of one, and then UDL one and so on. Okay? So it's a loop. Yeah. Yeah. No, no, that is the equivalent difference equation that is going to replace the continuous time system and different silicate, different setup. So we're going to deal with the differential with a discrete-time system. And we're going to show how to map AC and BC to AD and BD so that we have an equivalent system. So we don't have to worry about the continuous model anymore, will be in our ivory tower of doing digital stuff. Okay, so that's that's the plan. Okay. Good question. Okay. Have you have five-minutes, so let's see what I should do. So let's kinda set up the problem because I don't think I have time to solve it. We'll, we'll do it next time. So let's write down what we are after. That is given hex D of i and u d of I, which is the state and the control input at time i. What is x D of I plus one? The next sample. Such that we have to respect that x d of I plus one must represent, it represents pick C of i plus one times delta. This is the continuous time signal sample that I plus one delta, right? That, that must be mirrored by x d of I plus delta because they have to form a match off the continuous time system. So the x D of i plus one, we know that x d of I is x C of I delta. We also know that x d of I plus one. This x C of i plus one times delta x d of I plus one is the solution to the differential equation given by dxi. This is a continuous time differential equation at time t equal to I plus one delta. Okay? So x D of I plus one must represent the solution to the differential equation at time i plus one delta. Just give me a second. Let me write this out. And then from the initial conditions that x C of i delta is equal to x D of time t equal to Pi Delta. In other words, because I'm doing this piecewise constant approximation to you, I'm going to, my initial condition is going to start at t equal to i delta. That's my starting point. I know that I'm gonna be constant from high delta to i plus one delta. So I'm going to make sure that at I plus one delta, my solution to my difference equation is exactly the same as the differential equation that continuous time system has. So I know it's a bit complicated. But if you think about it, you see that this is the minimum requirement needed to make sure that we can do everything digitally. Question. Can you speak a little louder? Yeah. Everything should be vectors. So wherever if something is missing, it's because of, I'm getting lazy. Everything has arrows because we are dealing with genital system. But next time we're going to do the scalar example. And that will give you the intuition. Okay? So we will go down to both the state and the control, our 1D objects, and we will see how things work. Okay, this is just a start of things. So. 